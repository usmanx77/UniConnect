const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-D_0Yxi2j.js","assets/radix-vendor-0isRFci2.js","assets/react-vendor-BWX1YzKK.js","assets/ui-vendor-DodV2HUK.js","assets/PostCard-EgXIaUZl.js","assets/label-BiWmRWbx.js","assets/supabase-vendor-F5gKsx73.js","assets/motion-vendor-BozBRtxF.js","assets/ProfilePage-Dcsug6f5.js","assets/tabs-D7lFP_6f.js","assets/ConnectionsPage-CyO7plpN.js","assets/SocietiesPage-DKTxEKqT.js","assets/SocietyRoomPage-GDv40Ptc.js","assets/EventsPage-FAbYoE3y.js","assets/ChatPage-DMh_Qw7g.js","assets/switch-I-la9bNa.js","assets/date-vendor-CuSz-XOp.js","assets/form-vendor-CvzR2AkN.js","assets/BookmarksPage-D_hRhmnV.js","assets/AdvancedSearchPage-D7UDLALf.js","assets/SettingsPage-bGYuKEVB.js"])))=>i.map(i=>d[i]);
import{j as r,S as Cs,r as f,O as ht,b as Ts,C as Es,c as As,T as ks,D as Rs,P as _s,d as Ds,e as Yr,f as Xr,I as Jr,V as Zr,g as Qr,h as en,i as tn,k as sn,l as rn,m as nn,n as an,o as on,p as ln,q as cn,s as dn,F as un,t as mn,u as hn,v as fn,w as pn,x as gn,y as xn}from"./radix-vendor-0isRFci2.js";import{a as yn}from"./react-vendor-BWX1YzKK.js";import{t as vn,c as bn,a as Ms,C as wn,R as jn,b as pe,L as Ls,X as ft,E as Ze,d as Qe,e as Is,f as Os,g as Nn,h as ce,A as Vs,i as At,j as Sn,S as Pn,H as Us,U as Cn,G as Tn,k as kt,l as En,m as An,n as Bs,o as zs,M as Fs,p as et,q as Rt,B as kn,r as Rn,s as _n,u as Dn,v as Mn,w as Ln,x as In,I as On,y as Vn,z as Un,P as Bn,T as zn}from"./ui-vendor-DodV2HUK.js";import{c as Fn,_ as q}from"./supabase-vendor-F5gKsx73.js";import{i as Hs,f as tt,a as Gs,b as Ie,c as Hn,o as Gn,d as pt,e as $n,g as Wn,h as gt,r as qn,s as Kn,t as Yn,j as U,k as $s,l as Ws,m as Xn,n as Jn,p as Zn,q as Qn,u as xt,v as qs,w as Ks,x as _t,y as Ys,z as Y,A as z,B as Xs,C as st,D as ea,E as ta,F as sa,G as I,H as rt,I as Js,J as L,K as ra,L as na,M as aa,N as Dt,O as ia,P as Oe,Q as de,R as Zs,S as Mt,T as oa,U as Qs,V as er,W as la,X as Lt,Y as ca,Z as da,_ as ua,$ as ma,a0 as ha,a1 as He,a2 as ie,a3 as Ae,a4 as ke,a5 as It,a6 as fa,a7 as pa,a8 as ga,a9 as oe,aa as xa,ab as Ot,ac as ya,ad as va,ae as tr,af as ba,ag as wa}from"./motion-vendor-BozBRtxF.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(a){if(a.ep)return;a.ep=!0;const d=s(a);fetch(a.href,d)}})();var Re={},Vt;function ja(){if(Vt)return Re;Vt=1;var e=yn();return Re.createRoot=e.createRoot,Re.hydrateRoot=e.hydrateRoot,Re}var Na=ja();function A(...e){return vn(bn(e))}const Sa=Ms("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function D({className:e,variant:t,size:s,asChild:n=!1,...a}){const d=n?Cs:"button";return r.jsx(d,{"data-slot":"button",className:A(Sa({variant:t,size:s,className:e})),...a})}const Pa=!1,yt="UniConnect",Xl="1.0.0",E={AUTH_TOKEN:"uniconnect_auth_token",USER_DATA:"uniconnect_user_data",DARK_MODE:"uniconnect_dark_mode",ONBOARDING_COMPLETE:"uniconnect_onboarding_complete",AUTH_PERSIST:"uniconnect_auth_persist"},Ca={home:{id:"home",label:"Home Feed",icon:"ðŸ "},profile:{id:"profile",label:"My Profile",icon:"ðŸ‘¤"},connections:{id:"connections",label:"Circle",icon:"ðŸ‘¥"},societies:{id:"societies",label:"Societies",icon:"ðŸŽ¯"},"society-room":{id:"society-room",label:"Society Room",icon:"ðŸ›ï¸"},events:{id:"events",label:"Events",icon:"ðŸ“…"},chat:{id:"chat",label:"Messages",icon:"ðŸ’¬"},bookmarks:{id:"bookmarks",label:"Bookmarks",icon:"ðŸ”–"},search:{id:"search",label:"Search",icon:"ðŸ”"},settings:{id:"settings",label:"Settings",icon:"âš™ï¸"}},Ta=["Computer Science","Business Administration","Engineering","Psychology","Biology","Mathematics","Economics","English Literature","Political Science","Arts & Design"],Ea=["Fall 2023","Spring 2024","Fall 2024","Spring 2025"],Aa=["Academic","Arts","Sports","Technology","Social","Cultural"],W={MIN_PASSWORD_LENGTH:8,MAX_POST_LENGTH:500,MIN_BIO_LENGTH:10,MAX_BIO_LENGTH:160,ALLOWED_IMAGE_TYPES:["image/jpeg","image/png","image/webp"],MAX_IMAGE_SIZE_MB:5},nt={NETWORK_ERROR:"Network error. Please check your connection.",AUTH_FAILED:"Authentication failed. Please try again.",INVALID_CREDENTIALS:"Invalid email or password.",SERVER_ERROR:"Server error. Please try again later.",UNAUTHORIZED:"You are not authorized to perform this action.",NOT_FOUND:"The requested resource was not found.",VALIDATION_ERROR:"Please check your input and try again."},ka={LOGIN_SUCCESS:"Welcome back!",LOGOUT_SUCCESS:"Logged out successfully.",POST_CREATED:"Post created successfully!",CONNECTION_SENT:"Connection request sent!",CONNECTION_ACCEPTED:"Connection accepted!",SOCIETY_JOINED:"Successfully joined society!",EVENT_RSVP:"RSVP confirmed!"},Ut=[{name:"National University of Sciences & Technology (NUST)",domain:"nust.edu.pk"},{name:"FAST National University (NUCES)",domain:"nu.edu.pk"},{name:"Lahore University of Management Sciences (LUMS)",domain:"lums.edu.pk"},{name:"University of the Punjab",domain:"pu.edu.pk"},{name:"UET Lahore",domain:"uet.edu.pk"},{name:"COMSATS University Islamabad",domain:"comsats.edu.pk"},{name:"Quaid-i-Azam University",domain:"qau.edu.pk"},{name:"University of Karachi",domain:"uok.edu.pk"},{name:"IBA Karachi",domain:"iba.edu.pk"},{name:"Government College University Lahore",domain:"gcu.edu.pk"},{name:"NED University of Engineering & Technology",domain:"neduet.edu.pk"},{name:"GIKI",domain:"giki.edu.pk"},{name:"Air University",domain:"au.edu.pk"},{name:"Bahria University",domain:"bahria.edu.pk"},{name:"UET Peshawar",domain:"uetpeshawar.edu.pk"},{name:"UET Taxila",domain:"uettaxila.edu.pk"}];class Ra extends f.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,s){console.error("Error caught by boundary:",t,s),this.setState({error:t,errorInfo:s})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:r.jsx("div",{className:"max-w-md w-full bg-card border border-border rounded-2xl p-8 shadow-lg",children:r.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:r.jsx(wn,{className:"w-8 h-8 text-destructive"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-xl",children:"Something went wrong"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"We're sorry, but something unexpected happened. Please try refreshing the page."})]}),Pa,r.jsxs("div",{className:"flex gap-3 w-full mt-6",children:[r.jsx(D,{onClick:this.handleReset,variant:"outline",className:"flex-1 rounded-xl",children:"Try Again"}),r.jsxs(D,{onClick:()=>window.location.reload(),className:"flex-1 rounded-xl",children:[r.jsx(jn,{className:"w-4 h-4 mr-2"}),"Reload Page"]})]})]})})}):this.props.children}}const ee=e=>new Promise(t=>setTimeout(t,e));class _a{async signup(t){if(await ee(800),!t.email.toLowerCase().endsWith(".edu.pk"))throw new Error("Please use your official .edu.pk university email address");const s={id:"user-"+Date.now(),name:t.email.split("@")[0],email:t.email,department:"",batch:"",bio:"",avatar:"",connections:0,societies:0},n="mock-jwt-token-"+Date.now();return{user:s,token:n}}async login(t){if(await ee(600),!t.email.toLowerCase().endsWith(".edu.pk"))throw new Error("Please use your official .edu.pk university email address");const s={id:"user-123",name:"You",email:t.email,department:"",batch:"",bio:"",avatar:"",connections:0,societies:0},n="mock-jwt-token-"+Date.now();return{user:s,token:n}}async loginWithOAuth(t){await this.login({email:"student@nu.edu.pk",password:"password123"})}async logout(){await ee(300)}async completeOnboarding(t){await ee(500);const s=localStorage.getItem("uniconnect_user_data");if(!s)throw new Error(nt.UNAUTHORIZED);return{...JSON.parse(s),department:t.department,batch:t.batch}}async updateProfile(t){await ee(400);const s=localStorage.getItem("uniconnect_user_data");if(!s)throw new Error(nt.UNAUTHORIZED);return{...JSON.parse(s),...t}}async verifyToken(t){return await ee(200),t.startsWith("mock-jwt-token")}async requestPasswordReset(t){if(await ee(600),!t.toLowerCase().endsWith(".edu.pk"))throw new Error("Please use your official .edu.pk university email address")}}const re=new _a,sr=f.createContext(void 0);function Da({children:e}){const[t,s]=f.useState({isAuthenticated:!1,isOnboarded:!1,user:null,isLoading:!0,error:null}),n=m=>{try{const h=typeof window<"u"?sessionStorage.getItem(m):null;return h||(typeof window<"u"?localStorage.getItem(m):null)}catch{return null}},a=()=>{try{return typeof window>"u"?localStorage:!!sessionStorage.getItem(E.AUTH_TOKEN)?sessionStorage:localStorage}catch{return localStorage}};f.useEffect(()=>{(async()=>{try{const h=n(E.AUTH_TOKEN),p=n(E.USER_DATA),y=n(E.ONBOARDING_COMPLETE);if(h&&p){const x=JSON.parse(p);s({isAuthenticated:!0,isOnboarded:y==="true",user:x,isLoading:!1,error:null})}else s(x=>({...x,isLoading:!1}))}catch(h){console.error("Failed to initialize auth:",h),s(p=>({...p,isLoading:!1}))}})()},[]);const u={...t,login:async m=>{s(h=>({...h,isLoading:!0,error:null}));try{const{user:h,token:p}=await re.login(m),y=(typeof window<"u"?localStorage.getItem(E.AUTH_PERSIST):null)||"local",x=y==="session"?sessionStorage:localStorage;try{const v=y==="session"?localStorage:sessionStorage;v.removeItem(E.AUTH_TOKEN),v.removeItem(E.USER_DATA),v.removeItem(E.ONBOARDING_COMPLETE)}catch(v){console.error("Failed to clear persisted auth data:",v)}x.setItem(E.AUTH_TOKEN,p),x.setItem(E.USER_DATA,JSON.stringify(h)),s({isAuthenticated:!0,isOnboarded:!1,user:h,isLoading:!1,error:null})}catch(h){throw s(p=>({...p,isLoading:!1,error:h instanceof Error?h.message:"Login failed"})),h}},signup:async m=>{s(h=>({...h,isLoading:!0,error:null}));try{const{user:h,token:p}=await re.signup(m),y=(typeof window<"u"?localStorage.getItem(E.AUTH_PERSIST):null)||"local",x=y==="session"?sessionStorage:localStorage;try{const v=y==="session"?localStorage:sessionStorage;v.removeItem(E.AUTH_TOKEN),v.removeItem(E.USER_DATA),v.removeItem(E.ONBOARDING_COMPLETE)}catch(v){console.error("Failed to clear persisted auth data:",v)}p&&x.setItem(E.AUTH_TOKEN,p),x.setItem(E.USER_DATA,JSON.stringify(h)),s({isAuthenticated:!!p,isOnboarded:!1,user:h,isLoading:!1,error:null})}catch(h){throw s(p=>({...p,isLoading:!1,error:h instanceof Error?h.message:"Signup failed"})),h}},logout:async()=>{s(m=>({...m,isLoading:!0}));try{await re.logout();try{localStorage.removeItem(E.AUTH_TOKEN),localStorage.removeItem(E.USER_DATA),localStorage.removeItem(E.ONBOARDING_COMPLETE),sessionStorage.removeItem(E.AUTH_TOKEN),sessionStorage.removeItem(E.USER_DATA),sessionStorage.removeItem(E.ONBOARDING_COMPLETE)}catch(m){console.error("Failed to clear auth storage during logout:",m)}s({isAuthenticated:!1,isOnboarded:!1,user:null,isLoading:!1,error:null})}catch(m){console.error("Logout error:",m),s(h=>({...h,isLoading:!1}))}},completeOnboarding:async m=>{s(h=>({...h,isLoading:!0,error:null}));try{const h=await re.completeOnboarding(m),p=a();p.setItem(E.ONBOARDING_COMPLETE,"true"),p.setItem(E.USER_DATA,JSON.stringify(h)),s(y=>({...y,isOnboarded:!0,user:h,isLoading:!1}))}catch(h){throw s(p=>({...p,isLoading:!1,error:h instanceof Error?h.message:"Onboarding failed"})),h}},updateUser:m=>{if(!t.user)return;const h={...t.user,...m};a().setItem(E.USER_DATA,JSON.stringify(h)),s(y=>({...y,user:h}))}};return r.jsx(sr.Provider,{value:u,children:e})}function ne(){const e=f.useContext(sr);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const rr=f.createContext(void 0);function Ma({children:e}){const[t,s]=f.useState({currentPage:"home",darkMode:!1,isLoading:!1,error:null,notifications:[],unreadNotifications:0});f.useEffect(()=>{const l=localStorage.getItem(E.DARK_MODE);if(l!==null){const c=l==="true";s(u=>({...u,darkMode:c}))}},[]),f.useEffect(()=>{t.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem(E.DARK_MODE,String(t.darkMode))},[t.darkMode]);const o={...t,navigate:(l,c)=>{s(u=>({...u,currentPage:l,error:null,currentSocietyId:c}))},toggleDarkMode:()=>{s(l=>({...l,darkMode:!l.darkMode}))},setLoading:l=>{s(c=>({...c,isLoading:l}))},setError:l=>{s(c=>({...c,error:l}))}};return r.jsx(rr.Provider,{value:o,children:e})}function Se(){const e=f.useContext(rr);if(e===void 0)throw new Error("useApp must be used within an AppProvider");return e}const nr=f.createContext(void 0),La=[{id:"1",type:"connection_request",title:"New Connection Request",message:"Sarah Chen wants to connect with you",avatar:void 0,timestamp:"2m ago",read:!1},{id:"2",type:"post_reaction",title:"Michael loved your post",message:"Your post about the hackathon received a new reaction",timestamp:"1h ago",read:!1},{id:"3",type:"event_reminder",title:"Event Tomorrow",message:"Tech Talk: AI & Ethics starts at 5 PM",timestamp:"3h ago",read:!1}];function Ia({children:e}){const[t,s]=f.useState(La),n=t.filter(c=>!c.read).length,a=c=>{const u={...c,id:Date.now().toString(),timestamp:"Just now"};s(m=>[u,...m])},d=c=>{s(u=>u.map(m=>m.id===c?{...m,read:!0}:m))},i=()=>{s(c=>c.map(u=>({...u,read:!0})))},o=c=>{s(u=>u.filter(m=>m.id!==c))},l=()=>{s([])};return r.jsx(nr.Provider,{value:{notifications:t,unreadCount:n,addNotification:a,markAsRead:d,markAllAsRead:i,clearNotification:o,clearAll:l},children:e})}function ar(){const e=f.useContext(nr);if(!e)throw new Error("useNotifications must be used within NotificationProvider");return e}const ir=f.createContext(void 0),Oa=[{userId:"user1",userName:"Sarah Johnson",userAvatar:void 0,hasUnviewed:!0,latestStoryTime:"2h ago",stories:[{id:"story1",userId:"user1",userName:"Sarah Johnson",userAvatar:void 0,department:"Computer Science",content:"Working on my ML project! ðŸš€",mediaUrl:"https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=400",mediaType:"image",createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+1440*60*1e3).toISOString(),views:45,viewedBy:[]}]},{userId:"user2",userName:"Michael Chen",userAvatar:void 0,hasUnviewed:!0,latestStoryTime:"4h ago",stories:[{id:"story2",userId:"user2",userName:"Michael Chen",userAvatar:void 0,department:"Business",content:"Great marketing event today!",backgroundColor:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",createdAt:new Date(Date.now()-14400*1e3).toISOString(),expiresAt:new Date(Date.now()+1200*60*1e3).toISOString(),views:32,viewedBy:[]}]},{userId:"user3",userName:"Emily Rodriguez",userAvatar:void 0,hasUnviewed:!1,latestStoryTime:"6h ago",stories:[{id:"story3",userId:"user3",userName:"Emily Rodriguez",userAvatar:void 0,department:"Psychology",content:"Study session vibes âœ¨",mediaUrl:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=400",mediaType:"image",createdAt:new Date(Date.now()-360*60*1e3).toISOString(),expiresAt:new Date(Date.now()+1080*60*1e3).toISOString(),views:78,viewedBy:["currentUser"]}]}];function Va({children:e}){const[t,s]=f.useState(Oa),n=i=>{const o={...i,id:`story-${Date.now()}`,createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+864e5).toISOString(),views:0,viewedBy:[]};s(l=>{const c=l.findIndex(u=>u.userId===i.userId);if(c!==-1){const u=[...l];return u[c]={...u[c],stories:[o,...u[c].stories],latestStoryTime:"Just now"},u}else return[{userId:i.userId,userName:i.userName,userAvatar:i.userAvatar,hasUnviewed:!0,latestStoryTime:"Just now",stories:[o]},...l]})},a=(i,o)=>{s(l=>l.map(c=>({...c,stories:c.stories.map(u=>u.id===i?{...u,views:u.views+1,viewedBy:[...u.viewedBy,o]}:u),hasUnviewed:c.userId===o?!1:c.hasUnviewed})))},d=i=>{s(o=>o.map(l=>({...l,stories:l.stories.filter(c=>c.id!==i)})).filter(l=>l.stories.length>0))};return r.jsx(ir.Provider,{value:{storyGroups:t,addStory:n,viewStory:a,deleteStory:d},children:e})}function Jl(){const e=f.useContext(ir);if(!e)throw new Error("useStories must be used within StoryProvider");return e}const Ua="https://your-project.supabase.co",Ba="your-anon-key",_=Fn(Ua,Ba);class za{typingUsers=new Map;typingTimeouts=new Map;async getRooms(){try{const{data:t,error:s}=await _.from("rooms").select(`
          *,
          room_members!inner(
            user_id,
            role,
            last_read_at,
            joined_at,
            profiles!inner(
              name,
              avatar_url,
              is_online
            )
          )
        `).order("last_message_at",{ascending:!1});if(s)throw s;return t.map(n=>this.mapRoom(n))}catch(t){throw console.error("Error fetching rooms:",t),new Error("Failed to fetch chat rooms")}}async createRoom(t){try{if(t.roomType==="dm"&&t.memberIds.length===2){const o=await this.findDMRoom(t.memberIds[0],t.memberIds[1]);if(o)return o}const{data:s,error:n}=await _.from("rooms").insert({room_type:t.roomType,name:t.name,society_id:t.societyId,created_by:(await _.auth.getUser()).data.user?.id}).select().single();if(n)throw n;const a=t.memberIds.map(o=>({room_id:s.id,user_id:o,role:"member"})),{error:d}=await _.from("room_members").insert(a);if(d)throw d;return await this.getRoomById(s.id)}catch(s){throw console.error("Error creating room:",s),new Error("Failed to create chat room")}}async getRoomById(t){try{const{data:s,error:n}=await _.from("rooms").select(`
          *,
          room_members!inner(
            user_id,
            role,
            last_read_at,
            joined_at,
            profiles!inner(
              name,
              avatar_url,
              is_online
            )
          )
        `).eq("id",t).single();if(n)throw n;return this.mapRoom(s)}catch(s){throw console.error("Error fetching room:",s),new Error("Failed to fetch chat room")}}async findDMRoom(t,s){try{const{data:n,error:a}=await _.from("rooms").select(`
          *,
          room_members!inner(
            user_id,
            role,
            last_read_at,
            joined_at,
            profiles!inner(
              name,
              avatar_url,
              is_online
            )
          )
        `).eq("room_type","dm").or(`and(user_id.eq.${t},user_id.eq.${s}),and(user_id.eq.${s},user_id.eq.${t})`);if(a)throw a;const d=n.find(i=>(i.room_members||[]).some(o=>o.user_id===t)&&(i.room_members||[]).some(o=>o.user_id===s));return d?this.mapRoom(d):null}catch(n){return console.error("Error finding DM room:",n),null}}async getMessages(t,s=50,n=0){try{const{data:a,error:d}=await _.from("messages").select(`
          *,
          profiles!inner(
            name,
            avatar_url
          ),
          message_reactions(
            emoji,
            user_id
          )
        `).eq("room_id",t).order("created_at",{ascending:!1}).range(n,n+s-1);if(d)throw d;return a.map(i=>this.mapMessage(i)).reverse()}catch(a){throw console.error("Error fetching messages:",a),new Error("Failed to fetch messages")}}async sendMessage(t){try{const s=(await _.auth.getUser()).data.user;if(!s)throw new Error("User not authenticated");let n=[];t.attachments&&t.attachments.length>0&&(n=await this.uploadAttachments(t.attachments));const{data:a,error:d}=await _.from("messages").insert({room_id:t.roomId,author_id:s.id,body:t.body,attachments:n,reply_to:t.replyTo}).select(`
          *,
          profiles!inner(
            name,
            avatar_url
          )
        `).single();if(d)throw d;return await _.from("rooms").update({last_message_at:a.created_at}).eq("id",t.roomId),this.mapMessage(a)}catch(s){throw console.error("Error sending message:",s),new Error("Failed to send message")}}async editMessage(t,s){try{const{error:n}=await _.from("messages").update({body:s,edited_at:new Date().toISOString()}).eq("id",t);if(n)throw n}catch(n){throw console.error("Error editing message:",n),new Error("Failed to edit message")}}async deleteMessage(t){try{const{error:s}=await _.from("messages").delete().eq("id",t);if(s)throw s}catch(s){throw console.error("Error deleting message:",s),new Error("Failed to delete message")}}async addReaction(t,s){try{const n=(await _.auth.getUser()).data.user;if(!n)throw new Error("User not authenticated");const{error:a}=await _.from("message_reactions").upsert({message_id:t,user_id:n.id,emoji:s});if(a)throw a}catch(n){throw console.error("Error adding reaction:",n),new Error("Failed to add reaction")}}async removeReaction(t,s){try{const n=(await _.auth.getUser()).data.user;if(!n)throw new Error("User not authenticated");const{error:a}=await _.from("message_reactions").delete().eq("message_id",t).eq("user_id",n.id).eq("emoji",s);if(a)throw a}catch(n){throw console.error("Error removing reaction:",n),new Error("Failed to remove reaction")}}async startTyping(t){try{const s=(await _.auth.getUser()).data.user;if(!s)throw new Error("User not authenticated");const n={userId:s.id,userName:s.user_metadata?.name||s.email||"Unknown",timestamp:Date.now()},a=this.typingTimeouts.get(s.id);a&&clearTimeout(a);const d=setTimeout(()=>{this.stopTyping(t)},3e3);this.typingTimeouts.set(s.id,d),this.typingUsers.has(t)||this.typingUsers.set(t,new Map),this.typingUsers.get(t).set(s.id,n),this.broadcastTypingStatus(t)}catch(s){console.error("Error starting typing:",s)}}async stopTyping(t){try{const s=(await _.auth.getUser()).data.user;if(!s)return;const n=this.typingTimeouts.get(s.id);n&&(clearTimeout(n),this.typingTimeouts.delete(s.id));const a=this.typingUsers.get(t);a&&(a.delete(s.id),a.size===0&&this.typingUsers.delete(t)),this.broadcastTypingStatus(t)}catch(s){console.error("Error stopping typing:",s)}}async markAsRead(t){try{const s=(await _.auth.getUser()).data.user;if(!s)throw new Error("User not authenticated");const{error:n}=await _.from("room_members").update({last_read_at:new Date().toISOString()}).eq("room_id",t).eq("user_id",s.id);if(n)throw n}catch(s){throw console.error("Error marking as read:",s),new Error("Failed to mark as read")}}async searchMessages(t,s){try{let n=_.from("messages").select(`
          *,
          profiles!inner(
            name,
            avatar_url
          ),
          message_reactions(
            emoji,
            user_id
          )
        `).textSearch("body",t);s&&(n=n.eq("room_id",s));const{data:a,error:d}=await n.order("created_at",{ascending:!1}).limit(50);if(d)throw d;return a.map(i=>this.mapMessage(i))}catch(n){throw console.error("Error searching messages:",n),new Error("Failed to search messages")}}subscribeToMessages(t,s){return _.channel(`room:${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`room_id=eq.${t}`},async n=>{const a=n.new;if(!a||typeof a!="object"||!("id"in a))return;const d=a,{data:i}=await _.from("messages").select(`
              *,
              profiles!inner(
                name,
                avatar_url
              ),
              message_reactions(
                emoji,
                user_id
              )
            `).eq("id",d.id).single();i&&s(this.mapMessage(i))}).subscribe()}subscribeToTyping(t,s){const n=setInterval(()=>{const a=this.typingUsers.get(t);if(a){const d=Array.from(a.values()).filter(i=>Date.now()-i.timestamp<5e3);s(d)}},1e3);return()=>clearInterval(n)}mapMember(t){return{userId:t.user_id,name:t.profiles?.name??"Unknown",avatarUrl:t.profiles?.avatar_url??void 0,role:t.role,lastReadAt:t.last_read_at??void 0,joinedAt:t.joined_at,isOnline:!!(t.profiles?.is_online??!1)}}normalizeMessageType(t){switch(t){case"text":case"image":case"file":return t;default:return}}mapRoom(t){const s=Array.isArray(t.room_members)?t.room_members.map(n=>this.mapMember(n)):[];return{id:t.id,roomType:t.room_type,name:t.name??void 0,avatarUrl:t.avatar_url??void 0,universityId:t.university_id??void 0,societyId:t.society_id??void 0,createdBy:t.created_by,lastMessageAt:t.last_message_at??void 0,createdAt:t.created_at,members:s,unreadCount:t.unread_count??0,typingUsers:[],isOnline:t.is_online??void 0,lastMessage:t.last_message?{id:t.last_message.id,senderId:t.last_message.sender_id,senderName:t.last_message.sender_name,content:t.last_message.content,timestamp:t.last_message.timestamp,read:!!(t.last_message.read??!1),type:this.normalizeMessageType(t.last_message.type),attachmentUrl:t.last_message.attachment_url??void 0}:void 0}}mapAttachments(t){return Array.isArray(t)?t.map(s=>({id:s.id??s.path??`${Date.now()}-${Math.random()}`,type:s.type??s.fileType??"file",url:s.url,size:s.size??0,filename:s.filename??s.name??"attachment",name:s.name,metadata:s.metadata})):[]}mapMessage(t){return{id:t.id,roomId:t.room_id,authorId:t.author_id,authorName:t.profiles?.name??"Unknown",authorAvatar:t.profiles?.avatar_url??void 0,content:t.body??t.content??"",attachments:this.mapAttachments(t.attachments),reactions:this.groupReactions(t.message_reactions),replyTo:t.reply_to??void 0,editedAt:t.edited_at??void 0,createdAt:t.created_at,updatedAt:t.updated_at??void 0,isEdited:!!t.edited_at,isDeleted:!!t.is_deleted}}groupReactions(t){if(!Array.isArray(t))return[];const s=t.reduce((n,a)=>{const d=a.emoji;if(!d)return n;n[d]||(n[d]={emoji:d,users:[],count:0});const i=a.user_id??a.userId;return i&&n[d].users.push(i),n[d].count+=1,n},{});return Object.values(s)}async uploadAttachments(t){const s=[];for(const n of t)try{const a=n.name.split(".").pop(),i=`chat-attachments/${`${Date.now()}-${Math.random().toString(36).substring(2)}.${a}`}`,{data:o,error:l}=await _.storage.from("chat-attachments").upload(i,n);if(l)throw l;const{data:{publicUrl:c}}=_.storage.from("chat-attachments").getPublicUrl(i);s.push({id:o.path,type:this.getFileType(n.type),url:c,filename:n.name,size:n.size,metadata:{mimeType:n.type}})}catch(a){console.error("Error uploading file:",a)}return s}getFileType(t){return t.startsWith("image/")?"image":t.startsWith("video/")?"video":t.startsWith("audio/")?"audio":"file"}broadcastTypingStatus(t){const s=new CustomEvent("typingStatusChanged",{detail:{roomId:t,typingUsers:Array.from(this.typingUsers.get(t)?.values()||[])}});window.dispatchEvent(s)}}const B=new za,or=f.createContext(void 0);function Fa({children:e}){const{user:t}=ne(),[s,n]=f.useState([]),[a,d]=f.useState(null),[i,o]=f.useState([]),[l,c]=f.useState([]),[u,m]=f.useState(!1),[h,p]=f.useState(null),[y,x]=f.useState(""),[v,g]=f.useState([]),w=f.useRef(null),j=f.useRef(null),P=f.useRef(null),C=f.useCallback(()=>{w.current&&(w.current.unsubscribe(),w.current=null),j.current&&(j.current(),j.current=null)},[]),M=f.useCallback(async()=>{if(a)try{await B.markAsRead(a.id),n(S=>S.map(N=>N.id===a.id?{...N,unreadCount:0}:N))}catch(S){console.error("Failed to mark as read:",S)}},[a]),b=f.useCallback(S=>{w.current=B.subscribeToMessages(S,N=>{o(R=>[...R,N]),a?.id===S&&M()}),j.current=B.subscribeToTyping(S,N=>{c(N)})},[a,M]),k=f.useCallback(async()=>{try{m(!0),p(null);const S=await B.getRooms();n(S)}catch(S){p(S instanceof Error?S.message:"Failed to load chat rooms")}finally{m(!1)}},[]),T=f.useCallback(async S=>{try{m(!0),p(null);const N=await B.getMessages(S);o(N)}catch(N){p(N instanceof Error?N.message:"Failed to load messages")}finally{m(!1)}},[]),ae=f.useCallback(async S=>{try{p(null);const N=await B.sendMessage(S);o(R=>[...R,N])}catch(N){throw p(N instanceof Error?N.message:"Failed to send message"),N}},[]),Q=f.useCallback(async S=>{try{p(null);const N=await B.createRoom(S);return n(R=>[N,...R]),N}catch(N){throw p(N instanceof Error?N.message:"Failed to create room"),N}},[]),Ce=f.useCallback(async(S,N)=>{try{p(null),await B.editMessage(S,N),o(R=>R.map(V=>V.id===S?{...V,content:N,isEdited:!0,editedAt:new Date().toISOString()}:V))}catch(R){throw p(R instanceof Error?R.message:"Failed to edit message"),R}},[]),Fe=f.useCallback(async S=>{try{p(null),await B.deleteMessage(S),o(N=>N.filter(R=>R.id!==S))}catch(N){throw p(N instanceof Error?N.message:"Failed to delete message"),N}},[]),Te=f.useCallback(async(S,N)=>{try{p(null),await B.addReaction(S,N),o(R=>R.map(V=>V.id===S?V.reactions.find(K=>K.emoji===N)?{...V,reactions:V.reactions.map(K=>K.emoji===N?{...K,count:K.count+1,users:[...K.users,t?.id||""]}:K)}:{...V,reactions:[...V.reactions,{emoji:N,users:[t?.id||""],count:1}]}:V))}catch(R){throw p(R instanceof Error?R.message:"Failed to add reaction"),R}},[t]),Et=f.useCallback(async(S,N)=>{try{p(null),await B.removeReaction(S,N),o(R=>R.map(V=>V.id===S?{...V,reactions:V.reactions.map(X=>X.emoji===N?{...X,count:Math.max(0,X.count-1),users:X.users.filter(K=>K!==t?.id)}:X).filter(X=>X.count>0)}:V))}catch(R){throw p(R instanceof Error?R.message:"Failed to remove reaction"),R}},[t]),Ee=f.useCallback(()=>{a&&(P.current&&(clearTimeout(P.current),P.current=null),B.stopTyping(a.id))},[a]),O=f.useCallback(()=>{a&&(P.current&&clearTimeout(P.current),B.startTyping(a.id),P.current=setTimeout(()=>{Ee()},3e3))},[a,Ee]),$=f.useCallback(async S=>{try{if(p(null),x(S),S.trim()){const N=await B.searchMessages(S,a?.id);g(N)}else g([])}catch(N){p(N instanceof Error?N.message:"Failed to search messages")}},[a]),he=f.useCallback(()=>{x(""),g([])},[]),fe=f.useCallback(async()=>{a&&await T(a.id)},[a,T]),qr=f.useCallback(async S=>{d(S),S?(await T(S.id),await M()):o([])},[T,M]);f.useEffect(()=>{t&&k()},[t,k]),f.useEffect(()=>(a?b(a.id):C(),()=>{C()}),[a,b,C]),f.useEffect(()=>{const S=N=>{a&&N.detail.roomId===a.id&&c(N.detail.typingUsers)};return window.addEventListener("typingStatusChanged",S),()=>{window.removeEventListener("typingStatusChanged",S)}},[a]);const Kr={rooms:s,currentRoom:a,messages:i,typingUsers:l,isLoading:u,error:h,searchQuery:y,searchResults:v,setCurrentRoom:qr,loadRooms:k,loadMessages:T,sendMessage:ae,createRoom:Q,editMessage:Ce,deleteMessage:Fe,addReaction:Te,removeReaction:Et,startTyping:O,stopTyping:Ee,markAsRead:M,searchMessages:$,clearSearch:he,refreshMessages:fe};return r.jsx(or.Provider,{value:Kr,children:e})}function Zl(){const e=f.useContext(or);if(e===void 0)throw new Error("useChat must be used within a ChatProvider");return e}function J({className:e,type:t,...s}){return r.jsx("input",{type:t,"data-slot":"input",className:A("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}function Ue(){return{success:d=>{pe.success(d)},error:d=>{pe.error(d)},info:d=>{pe.info(d)},loading:d=>pe.loading(d),dismiss:d=>{pe.dismiss(d)},messages:{success:ka,error:nt}}}const ue={email:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)&&/\.edu\.pk$/i.test(e.split("@")[1]||""),password:e=>e.length<W.MIN_PASSWORD_LENGTH?{valid:!1,message:`Password must be at least ${W.MIN_PASSWORD_LENGTH} characters`}:{valid:!0},postContent:e=>e.trim()?e.length>W.MAX_POST_LENGTH?{valid:!1,message:`Post cannot exceed ${W.MAX_POST_LENGTH} characters`}:{valid:!0}:{valid:!1,message:"Post content cannot be empty"},bio:e=>e.length<W.MIN_BIO_LENGTH?{valid:!1,message:`Bio must be at least ${W.MIN_BIO_LENGTH} characters`}:e.length>W.MAX_BIO_LENGTH?{valid:!1,message:`Bio cannot exceed ${W.MAX_BIO_LENGTH} characters`}:{valid:!0},imageFile:e=>{const t=(e.type||"").toLowerCase(),s=W.ALLOWED_IMAGE_TYPES.map(l=>l.toLowerCase()),n=e.name.split(".").pop()?.toLowerCase(),a=["jpg","jpeg","png","webp"],d=t?s.includes(t):!1,i=n?a.includes(n):!1;return!d&&!i?{valid:!1,message:"Please upload a JPEG, PNG, or WebP image"}:e.size/(1024*1024)>W.MAX_IMAGE_SIZE_MB?{valid:!1,message:`Image size must be less than ${W.MAX_IMAGE_SIZE_MB}MB`}:{valid:!0}}};function me({size:e="md",fullScreen:t=!1,text:s}){const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"},a=r.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[r.jsx(Ls,{className:`${n[e]} animate-spin text-primary`}),s&&r.jsx("p",{className:"text-sm text-muted-foreground",children:s})]});return t?r.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:a}):a}function lr({...e}){return r.jsx(Ts,{"data-slot":"dialog",...e})}function Ha({...e}){return r.jsx(Ds,{"data-slot":"dialog-trigger",...e})}function Ga({...e}){return r.jsx(_s,{"data-slot":"dialog-portal",...e})}const cr=f.forwardRef(({className:e,...t},s)=>r.jsx(ht,{ref:s,"data-slot":"dialog-overlay",className:A("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));cr.displayName=ht.displayName;function dr({className:e,children:t,...s}){return r.jsxs(Ga,{"data-slot":"dialog-portal",children:[r.jsx(cr,{}),r.jsxs(Es,{"data-slot":"dialog-content",className:A("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s,children:[t,r.jsxs(As,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx(ft,{}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ur({className:e,...t}){return r.jsx("div",{"data-slot":"dialog-header",className:A("flex flex-col gap-2 text-center sm:text-left",e),...t})}function $a({className:e,...t}){return r.jsx("div",{"data-slot":"dialog-footer",className:A("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function mr({className:e,...t}){return r.jsx(ks,{"data-slot":"dialog-title",className:A("text-lg leading-none font-semibold",e),...t})}function hr({className:e,...t}){return r.jsx(Rs,{"data-slot":"dialog-description",className:A("text-muted-foreground text-sm",e),...t})}function Wa(){const[e,t]=f.useState(""),[s,n]=f.useState(""),[a,d]=f.useState({email:"",password:""}),{login:i,isLoading:o}=ne(),l=Ue(),[c,u]=f.useState(!1),[m,h]=f.useState(!0),[p,y]=f.useState(!1),[x,v]=f.useState(""),[g,w]=f.useState(""),[j,P]=f.useState(!1),C=async()=>{try{await re.loginWithOAuth("google"),l.success(l.messages.success.LOGIN_SUCCESS)}catch{l.error(l.messages.error.AUTH_FAILED)}},M=async b=>{b.preventDefault();const k={email:"",password:""};ue.email(e)||(k.email="Please enter a valid university email (.edu.pk)");const T=ue.password(s);if(T.valid||(k.password=T.message||""),k.email||k.password){d(k);return}d({email:"",password:""});try{localStorage.setItem(E.AUTH_PERSIST,m?"local":"session")}catch(ae){console.error("Failed to persist auth preference:",ae)}try{await i({email:e,password:s}),l.success(l.messages.success.LOGIN_SUCCESS)}catch{l.error(l.messages.error.INVALID_CREDENTIALS)}};return o?r.jsx(me,{fullScreen:!0,size:"lg",text:"Signing in..."}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-accent/5 to-primary/10 dark:from-primary/10 dark:via-accent/10 dark:to-primary/20 flex items-center justify-center p-4 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-primary/20 to-accent/20 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-accent/20 to-primary/20 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"w-full max-w-md relative z-10",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-primary to-accent flex items-center justify-center mx-auto mb-6 shadow-2xl shadow-primary/25 ring-4 ring-primary/10 dark:ring-primary/30",children:r.jsx("span",{className:"text-white text-3xl font-bold",children:"U"})}),r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-3",children:"UniConnect"}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"Connect with your university community"})]}),r.jsxs("div",{className:"bg-card/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-border p-8 relative",children:[r.jsxs(D,{className:"w-full rounded-2xl mb-6 h-14 shadow-lg hover:shadow-xl transition-all duration-300 bg-card hover:bg-accent text-foreground border-2 border-border hover:border-primary/40 font-semibold",onClick:C,disabled:o,children:[r.jsxs("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),r.jsxs("div",{className:"relative mb-8",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-border"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-card text-muted-foreground font-medium",children:"or continue with email"})})]}),r.jsxs("form",{onSubmit:M,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-foreground",children:"University Email"}),r.jsx(J,{id:"email",type:"email",value:e,onChange:b=>t(b.target.value),placeholder:"yourname@your-university.edu.pk",className:"rounded-2xl h-14 border-2 border-border focus:border-primary focus:ring-primary/20 transition-all duration-300 text-lg px-4",required:!0,"aria-invalid":!!a.email,"aria-describedby":a.email?"email-error":void 0}),a.email&&r.jsxs("p",{id:"email-error",className:"text-sm text-destructive mt-2 flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.email]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-foreground",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(J,{id:"password",type:c?"text":"password",value:s,onChange:b=>n(b.target.value),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"rounded-2xl h-14 border-2 border-border focus:border-primary focus:ring-primary/20 transition-all duration-300 text-lg px-4 pr-12",required:!0,"aria-invalid":!!a.password,"aria-describedby":a.password?"password-error":void 0}),r.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:c?r.jsx(Ze,{className:"w-5 h-5"}):r.jsx(Qe,{className:"w-5 h-5"})})]}),a.password&&r.jsxs("p",{id:"password-error",className:"text-sm text-destructive mt-2 flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.password]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border text-primary focus:ring-primary",checked:m,onChange:b=>h(b.target.checked)}),"Remember me on this device"]}),r.jsxs(lr,{open:p,onOpenChange:y,children:[r.jsx(Ha,{asChild:!0,children:r.jsx("button",{type:"button",className:"text-sm text-primary hover:text-primary/80 font-semibold",children:"Forgot password?"})}),r.jsxs(dr,{children:[r.jsxs(ur,{children:[r.jsx(mr,{children:"Reset your password"}),r.jsx(hr,{children:"Enter your .edu.pk email and we will send reset instructions."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(J,{type:"email",placeholder:"yourname@your-university.edu.pk",value:x,onChange:b=>{v(b.target.value),w(""),P(!1)}}),g&&r.jsx("p",{className:"text-sm text-destructive",children:g}),j&&r.jsx("p",{className:"text-sm text-primary",children:"If an account exists, a reset email was sent."})]}),r.jsx($a,{children:r.jsx(D,{type:"button",onClick:async()=>{if(!ue.email(x)){w("Please enter a valid .edu.pk email");return}try{await re.requestPasswordReset(x),P(!0),w("")}catch{w("Failed to send reset email")}},children:"Send reset link"})})]})]})]}),r.jsx(D,{type:"submit",className:"w-full rounded-2xl h-14 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300",disabled:o,children:o?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing in..."]}):"Sign In"})]}),r.jsx("div",{className:"text-center mt-8 p-4 bg-accent rounded-2xl border border-border",children:r.jsx("p",{className:"text-sm text-primary font-medium",children:"ðŸ”’ Only official .edu.pk university emails are allowed"})})]}),r.jsx("div",{className:"text-center mt-8",children:r.jsxs("p",{className:"text-muted-foreground text-lg",children:["Don't have an account?"," ",r.jsx("button",{className:"text-primary hover:underline transition-colors duration-200",onClick:()=>window.location.href="/signup",children:"Create one now"})]})})]})]})}function at({...e}){return r.jsx(Yr,{"data-slot":"select",...e})}function it({...e}){return r.jsx(Zr,{"data-slot":"select-value",...e})}function ot({className:e,size:t="default",children:s,...n}){return r.jsxs(Xr,{"data-slot":"select-trigger","data-size":t,className:A("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[s,r.jsx(Jr,{asChild:!0,children:r.jsx(Is,{className:"size-4 opacity-50"})})]})}function lt({className:e,children:t,position:s="popper",...n}){return r.jsx(Qr,{children:r.jsxs(en,{"data-slot":"select-content",className:A("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[r.jsx(qa,{}),r.jsx(tn,{className:A("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),r.jsx(Ka,{})]})})}function ct({className:e,children:t,...s}){return r.jsxs(sn,{"data-slot":"select-item",className:A("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[r.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:r.jsx(rn,{children:r.jsx(Os,{className:"size-4"})})}),r.jsx(nn,{children:t})]})}function qa({className:e,...t}){return r.jsx(an,{"data-slot":"select-scroll-up-button",className:A("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Nn,{className:"size-4"})})}function Ka({className:e,...t}){return r.jsx(on,{"data-slot":"select-scroll-down-button",className:A("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Is,{className:"size-4"})})}function Ya({className:e,...t}){return r.jsx(ln,{"data-slot":"checkbox",className:A("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(cn,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:r.jsx(Os,{className:"size-3.5"})})})}function Xa(){const[e,t]=f.useState(1),[s,n]=f.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",university:"",universityDomain:""}),[a,d]=f.useState({}),[i,o]=f.useState(!1),[l,c]=f.useState(!1),[u,m]=f.useState(!1),[h,p]=f.useState(!1),{signup:y}=ne(),x=Ue(),v=(b,k)=>{n(T=>({...T,[b]:k})),a[b]&&d(T=>({...T,[b]:""}))},g=()=>{const b={};return s.firstName.trim()||(b.firstName="First name is required"),s.lastName.trim()||(b.lastName="Last name is required"),s.email.trim()?ue.email(s.email)||(b.email="Please enter a valid university email (.edu.pk)"):b.email="Email is required",s.university.trim()||(b.university="University is required"),s.universityDomain.trim()||(b.university="Please select your university"),s.universityDomain&&s.email&&((s.email.split("@")[1]||"").toLowerCase().endsWith(s.universityDomain.toLowerCase())||(b.email=`Please use your ${s.universityDomain} email`)),d(b),Object.keys(b).length===0},w=()=>{const b={},k=ue.password(s.password);return k.valid||(b.password=k.message||""),s.confirmPassword?s.password!==s.confirmPassword&&(b.confirmPassword="Passwords do not match"):b.confirmPassword="Please confirm your password",d(b),Object.keys(b).length===0},j=()=>{e===1&&g()&&t(2)},P=()=>{e===2&&t(1)},C=async b=>{if(b.preventDefault(),!!w()){if(!h){d(k=>({...k,terms:"You must agree to the Terms to continue"}));return}m(!0);try{await y({email:s.email,password:s.password}),x.success("Account created successfully! Welcome to UniConnect!")}catch{x.error("Failed to create account. Please try again.")}finally{m(!1)}}},M=async()=>{m(!0);try{await re.loginWithOAuth("google"),x.success("Account created successfully with Google!")}catch{x.error("Failed to sign up with Google. Please try again.")}finally{m(!1)}};return u?r.jsx(me,{fullScreen:!0,size:"lg",text:"Creating your account..."}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-accent/5 to-primary/10 dark:from-primary/10 dark:via-accent/10 dark:to-primary/20 flex items-center justify-center p-4 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-primary/20 to-accent/20 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-accent/20 to-primary/20 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"w-full max-w-md relative z-10",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-primary to-accent flex items-center justify-center mx-auto mb-6 shadow-2xl shadow-primary/25 ring-4 ring-primary/10 dark:ring-primary/30",children:r.jsx("span",{className:"text-white text-3xl font-bold",children:"U"})}),r.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-3",children:["Join ",yt]}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"Connect with your university community"})]}),r.jsxs("div",{className:"bg-card/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-border p-8 relative",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[r.jsx("div",{className:`flex-1 h-3 rounded-full transition-all duration-500 ${e>=1?"bg-gradient-to-r from-primary to-accent shadow-lg shadow-primary/30":"bg-muted"}`}),r.jsx("div",{className:`flex-1 h-3 rounded-full transition-all duration-500 ${e>=2?"bg-gradient-to-r from-primary to-accent shadow-lg shadow-primary/30":"bg-muted"}`})]}),e===1?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Personal Information"}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"Tell us about yourself"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-foreground",children:"First Name"}),r.jsx(J,{id:"firstName",value:s.firstName,onChange:b=>v("firstName",b.target.value),placeholder:"John",className:"rounded-2xl h-12 border-2 border-border focus:border-primary focus:ring-primary/20 transition-all duration-300","aria-invalid":!!a.firstName,"aria-describedby":a.firstName?"firstName-error":void 0}),a.firstName&&r.jsxs("p",{id:"firstName-error",className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.firstName]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-foreground",children:"Last Name"}),r.jsx(J,{id:"lastName",value:s.lastName,onChange:b=>v("lastName",b.target.value),placeholder:"Doe",className:"rounded-2xl h-12 border-2 border-border focus:border-primary focus:ring-primary/20 transition-all duration-300","aria-invalid":!!a.lastName,"aria-describedby":a.lastName?"lastName-error":void 0}),a.lastName&&r.jsxs("p",{id:"lastName-error",className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.lastName]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-foreground",children:"University Email"}),r.jsx(J,{id:"email",type:"email",value:s.email,onChange:b=>v("email",b.target.value),placeholder:s.universityDomain?`john.doe@${s.universityDomain}`:"john.doe@your-university.edu.pk",className:"rounded-2xl h-12 border-2 border-border focus:border-primary focus:ring-primary/20 transition-all duration-300","aria-invalid":!!a.email,"aria-describedby":a.email?"email-error":void 0}),a.email&&r.jsxs("p",{id:"email-error",className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.email]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-foreground",children:"Select University (Pakistan)"}),r.jsxs(at,{value:s.universityDomain||void 0,onValueChange:b=>{const k=Ut.find(T=>T.domain===b);n(T=>({...T,university:k?.name||"",universityDomain:b,email:T.email&&T.email.includes("@")?T.email.split("@")[0]+"@"+b:T.email})),a.university&&d(T=>({...T,university:""})),a.email&&d(T=>({...T,email:""}))},children:[r.jsx(ot,{className:"rounded-2xl h-12 border-2 border-border focus:border-primary focus:ring-primary/20 transition-all duration-300",children:r.jsx(it,{placeholder:"Choose your university"})}),r.jsx(lt,{children:Ut.map(b=>r.jsxs(ct,{value:b.domain,children:[b.name," (",b.domain,")"]},b.domain))})]}),a.university&&r.jsxs("p",{id:"university-error",className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.university]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Only official .edu.pk emails are accepted."})]}),r.jsx(D,{onClick:j,className:"w-full rounded-2xl h-14 bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-700 hover:to-violet-700 text-white font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s.firstName||!s.lastName||!s.email||!s.university,children:"Continue"})]}):r.jsxs("form",{onSubmit:C,className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Create Password"}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"Choose a secure password"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-foreground",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(J,{id:"password",type:i?"text":"password",value:s.password,onChange:b=>v("password",b.target.value),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"rounded-2xl h-12 pr-12 border-2 border-border focus:border-primary focus:ring-primary/20 transition-all duration-300","aria-invalid":!!a.password,"aria-describedby":a.password?"password-error":void 0}),r.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors duration-200",children:i?r.jsx(Ze,{className:"w-5 h-5"}):r.jsx(Qe,{className:"w-5 h-5"})})]}),a.password&&r.jsxs("p",{id:"password-error",className:"text-sm text-destructive mt-2 flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.password]}),r.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-2xl space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-foreground mb-3",children:"Password requirements:"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx(ce,{className:`w-4 h-4 ${s.password.length>=8?"text-primary":"text-muted-foreground"}`}),r.jsx("span",{className:s.password.length>=8?"text-primary":"text-muted-foreground",children:"At least 8 characters"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx(ce,{className:`w-4 h-4 ${/[A-Z]/.test(s.password)?"text-primary":"text-muted-foreground"}`}),r.jsx("span",{className:/[A-Z]/.test(s.password)?"text-primary":"text-muted-foreground",children:"One uppercase letter"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx(ce,{className:`w-4 h-4 ${/[0-9]/.test(s.password)?"text-primary":"text-muted-foreground"}`}),r.jsx("span",{className:/[0-9]/.test(s.password)?"text-primary":"text-muted-foreground",children:"One number"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-foreground",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(J,{id:"confirmPassword",type:l?"text":"password",value:s.confirmPassword,onChange:b=>v("confirmPassword",b.target.value),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"rounded-2xl h-12 pr-12 border-2 border-border focus:border-primary focus:ring-primary/20 transition-all duration-300","aria-invalid":!!a.confirmPassword,"aria-describedby":a.confirmPassword?"confirmPassword-error":void 0}),r.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors duration-200",children:l?r.jsx(Ze,{className:"w-5 h-5"}):r.jsx(Qe,{className:"w-5 h-5"})})]}),a.confirmPassword&&r.jsxs("p",{id:"confirmPassword-error",className:"text-sm text-destructive mt-2 flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.confirmPassword]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(D,{type:"button",onClick:P,variant:"outline",className:"flex-1 rounded-2xl h-14 border-2 border-border hover:border-primary hover:bg-accent font-semibold",children:[r.jsx(Vs,{className:"w-5 h-5 mr-2"}),"Back"]}),r.jsx(D,{type:"submit",className:"flex-1 rounded-2xl h-14 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s.password||!s.confirmPassword,children:u?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating..."]}):"Create Account"})]}),r.jsxs("div",{className:"flex items-start gap-3 -mt-2",children:[r.jsx(Ya,{id:"terms",checked:h,onCheckedChange:b=>p(!!b),className:"mt-1"}),r.jsxs("label",{htmlFor:"terms",className:"text-sm text-foreground",children:["I agree to the ",r.jsx("a",{className:"text-primary hover:underline",href:"#",children:"Terms of Service"})," and ",r.jsx("a",{className:"text-primary hover:underline",href:"#",children:"Privacy Policy"}),"."]})]}),a.terms&&r.jsx("p",{className:"text-sm text-destructive -mt-1",children:a.terms})]}),e===1&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative my-8",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-purple-200 dark:border-purple-800"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-card text-muted-foreground font-medium",children:"or continue with"})})]}),r.jsxs(D,{className:"w-full rounded-2xl mb-6 h-14 shadow-lg hover:shadow-xl transition-all duration-300 bg-card hover:bg-accent text-foreground border-2 border-border hover:border-primary/40 font-semibold",onClick:M,disabled:u,variant:"outline",children:[r.jsxs("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),r.jsx("div",{className:"text-center mt-8",children:r.jsxs("p",{className:"text-muted-foreground text-lg",children:["Already have an account?"," ",r.jsx("button",{className:"text-primary hover:underline transition-colors duration-200",onClick:()=>window.history.back(),children:"Sign in"})]})})]})]})]})}function fr({className:e,...t}){return r.jsx("textarea",{"data-slot":"textarea",className:A("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function Ja(){const[e,t]=f.useState(1),[s,n]=f.useState({batch:"",department:"",bio:"",interests:[],avatar:""}),{completeOnboarding:a,isLoading:d}=ne(),i=Ue(),o=5,l=()=>{e<o&&t(e+1)},c=()=>{e>1&&t(e-1)},u=(g,w)=>{n(j=>({...j,[g]:w}))},m=g=>{n(w=>({...w,interests:w.interests.includes(g)?w.interests.filter(j=>j!==g):[...w.interests,g]}))},h=()=>{switch(e){case 1:return s.batch;case 2:return s.department;case 3:return s.bio.trim().length>=10;case 4:return s.interests.length>=2;case 5:return!0;default:return!1}},p=async()=>{try{await a({department:s.department,batch:s.batch,interests:s.interests})}catch{i.error("Failed to complete onboarding. Please try again.")}};if(d)return r.jsx(me,{fullScreen:!0,size:"lg",text:"Setting up your profile..."});const y=g=>{switch(g){case 1:return r.jsx(Tn,{className:"w-5 h-5"});case 2:return r.jsx(Cn,{className:"w-5 h-5"});case 3:return r.jsx(Us,{className:"w-5 h-5"});case 4:return r.jsx(Pn,{className:"w-5 h-5"});case 5:return r.jsx(At,{className:"w-5 h-5"});default:return r.jsx(ce,{className:"w-5 h-5"})}},x=g=>{switch(g){case 1:return"Academic Info";case 2:return"Department";case 3:return"Tell us about yourself";case 4:return"Your interests";case 5:return"Profile setup";default:return"Welcome!"}},v=g=>{switch(g){case 1:return"Let's start with your academic background";case 2:return"Which department are you in?";case 3:return"Write a short bio to introduce yourself";case 4:return"Select your interests to find like-minded people";case 5:return"Almost done! Let's set up your profile";default:return"You're all set!"}};return e===6?r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-accent/5 to-primary/10 dark:from-primary/10 dark:via-accent/10 dark:to-primary/20 flex items-center justify-center p-4 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-primary/20 to-accent/20 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-accent/20 to-primary/20 rounded-full blur-3xl"})]}),r.jsx("div",{className:"w-full max-w-md text-center relative z-10",children:r.jsxs("div",{className:"bg-card/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-border p-8",children:[r.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-primary/25 ring-4 ring-primary/10 dark:ring-primary/30",children:r.jsx(ce,{className:"w-12 h-12 text-white"})}),r.jsxs("h2",{className:"text-3xl font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:["Welcome to ",yt,"!"]}),r.jsxs("div",{className:"space-y-2 mb-8",children:[r.jsxs("p",{className:"text-lg text-muted-foreground",children:["You're all set, ",r.jsx("span",{className:"font-semibold text-primary",children:s.batch})]}),r.jsx("p",{className:"text-lg text-muted-foreground",children:s.department})]}),r.jsx(D,{onClick:p,className:"w-full rounded-2xl h-14 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50",disabled:d,children:d?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Setting up..."]}):"Get Started"})]})})]}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-accent/5 to-primary/10 dark:from-primary/10 dark:via-accent/10 dark:to-primary/20 flex items-center justify-center p-4 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-primary/20 to-accent/20 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-accent/20 to-primary/20 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"w-full max-w-md relative z-10",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-primary to-accent flex items-center justify-center mx-auto mb-6 shadow-2xl shadow-primary/25 ring-4 ring-primary/10 dark:ring-primary/30",children:r.jsx("span",{className:"text-white text-3xl font-bold",children:"U"})}),r.jsx("h2",{className:"text-3xl font-bold mb-3 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Complete Your Profile"}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"Help us personalize your experience"})]}),r.jsxs("div",{className:"bg-card/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-border p-8 relative",children:[r.jsx("div",{className:"flex items-center gap-3 mb-8",children:Array.from({length:o},(g,w)=>r.jsx("div",{className:`flex-1 h-3 rounded-full transition-all duration-500 ${e>w+1?"bg-gradient-to-r from-primary to-accent shadow-lg shadow-primary/30":e===w+1?"bg-gradient-to-r from-primary/70 to-accent/70 shadow-md shadow-primary/20":"bg-muted"}`},w))}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary/10 to-accent/10 dark:from-primary/20 dark:to-accent/20 flex items-center justify-center mx-auto mb-6 shadow-lg",children:r.jsx("div",{className:"w-8 h-8 text-primary",children:y(e)})}),r.jsx("h3",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:x(e)}),r.jsx("p",{className:"text-muted-foreground text-lg",children:v(e)})]}),r.jsxs("div",{className:"space-y-6",children:[e===1&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-lg font-semibold text-foreground",children:"Select Your Batch"}),r.jsxs(at,{value:s.batch,onValueChange:g=>u("batch",g),children:[r.jsx(ot,{className:"w-full rounded-2xl h-14 border-2 border-border focus:border-primary focus:ring-primary/20 transition-all duration-300 text-lg",children:r.jsx(it,{placeholder:"Choose your batch..."})}),r.jsx(lt,{className:"rounded-2xl border-2 border-border shadow-xl",children:Ea.map(g=>r.jsx(ct,{value:g,className:"text-lg py-3",children:g},g))})]})]}),e===2&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-lg font-semibold text-foreground",children:"Select Your Department"}),r.jsxs(at,{value:s.department,onValueChange:g=>u("department",g),children:[r.jsx(ot,{className:"w-full rounded-2xl h-14 border-2 border-border focus:border-primary focus:ring-primary/20 transition-all duration-300 text-lg",children:r.jsx(it,{placeholder:"Choose your department..."})}),r.jsx(lt,{className:"rounded-2xl border-2 border-border shadow-xl",children:Ta.map(g=>r.jsx(ct,{value:g,className:"text-lg py-3",children:g},g))})]})]}),e===3&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-lg font-semibold text-foreground",children:"Bio"}),r.jsx(fr,{value:s.bio,onChange:g=>u("bio",g.target.value),placeholder:"Tell us about yourself, your goals, hobbies, or anything you'd like to share...",className:"rounded-2xl min-h-[120px] resize-none border-2 border-border focus:border-primary focus:ring-primary/20 transition-all duration-300 text-lg p-4"}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("p",{className:"text-muted-foreground",children:[s.bio.length,"/160 characters (minimum 10)"]}),r.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.bio.length>=10?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:s.bio.length>=10?"âœ“ Valid":"Too short"})]})]}),e===4&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-lg font-semibold text-foreground mb-2",children:"Select Your Interests"}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"Choose at least 2 interests"})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:Aa.map(g=>r.jsx("button",{onClick:()=>m(g),className:`p-4 rounded-2xl border-2 text-lg font-semibold transition-all duration-300 ${s.interests.includes(g)?"border-primary bg-gradient-to-br from-primary/5 to-accent/5 text-primary shadow-lg shadow-primary/20":"border-border hover:border-primary hover:bg-accent text-foreground"}`,children:g},g))}),r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium ${s.interests.length>=2?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:[r.jsxs("span",{children:[s.interests.length," selected"]}),s.interests.length>=2&&r.jsx(ce,{className:"w-4 h-4"})]})})]}),e===5&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx("div",{className:"w-24 h-24 rounded-3xl bg-gradient-to-br from-primary/10 to-accent/10 dark:from-primary/20 dark:to-accent/20 flex items-center justify-center mx-auto shadow-lg",children:r.jsx(At,{className:"w-10 h-10 text-primary"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-xl font-bold mb-3 text-foreground",children:"Profile Picture"}),r.jsx("p",{className:"text-muted-foreground text-lg mb-6",children:"You can add a profile picture later in settings"}),r.jsx(D,{variant:"outline",className:"rounded-2xl h-12 px-8 border-2 border-border hover:border-primary hover:bg-accent font-semibold",children:"Upload Photo"})]})]}),r.jsxs("div",{className:"flex gap-4 pt-6",children:[e>1&&r.jsxs(D,{onClick:c,variant:"outline",className:"flex-1 rounded-2xl h-14 border-2 border-border hover:border-primary hover:bg-accent font-semibold",children:[r.jsx(Vs,{className:"w-5 h-5 mr-2"}),"Back"]}),r.jsxs(D,{onClick:e===o?()=>t(6):l,disabled:!h(),className:`${e===1?"w-full":"flex-1"} rounded-2xl h-14 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed`,children:[e===o?"Review":"Continue",e<o&&r.jsx(Sn,{className:"w-5 h-5 ml-2"})]})]})]})]})]})]})}const Za=Ms("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function pr({className:e,variant:t,asChild:s=!1,...n}){const a=s?Cs:"span";return r.jsx(a,{"data-slot":"badge",className:A(Za({variant:t}),e),...n})}function vt({className:e,...t}){return r.jsx(dn,{"data-slot":"avatar",className:A("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function Qa({className:e,...t}){return r.jsx(mn,{"data-slot":"avatar-image",className:A("aspect-square size-full",e),...t})}function bt({className:e,...t}){return r.jsx(un,{"data-slot":"avatar-fallback",className:A("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const wt=f.createContext({});function jt(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const Be=f.createContext(null),Nt=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ei extends f.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ti({children:e,isPresent:t}){const s=f.useId(),n=f.useRef(null),a=f.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=f.useContext(Nt);return f.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=a.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=s;const u=document.createElement("style");return d&&(u.nonce=d),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),r.jsx(ei,{isPresent:t,childRef:n,sizeRef:a,children:f.cloneElement(e,{ref:n})})}const si=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:a,presenceAffectsLayout:d,mode:i})=>{const o=jt(ri),l=f.useId(),c=f.useCallback(m=>{o.set(m,!0);for(const h of o.values())if(!h)return;n&&n()},[o,n]),u=f.useMemo(()=>({id:l,initial:t,isPresent:s,custom:a,onExitComplete:c,register:m=>(o.set(m,!1),()=>o.delete(m))}),d?[Math.random(),c]:[s,c]);return f.useMemo(()=>{o.forEach((m,h)=>o.set(h,!1))},[s]),f.useEffect(()=>{!s&&!o.size&&n&&n()},[s]),i==="popLayout"&&(e=r.jsx(ti,{isPresent:s,children:e})),r.jsx(Be.Provider,{value:u,children:e})};function ri(){return new Map}function gr(e=!0){const t=f.useContext(Be);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:a}=t,d=f.useId();f.useEffect(()=>{e&&a(d)},[e]);const i=f.useCallback(()=>e&&n&&n(d),[d,n,e]);return!s&&n?[!1,i]:[!0]}const _e=e=>e.key||"";function Bt(e){const t=[];return f.Children.forEach(e,s=>{f.isValidElement(s)&&t.push(s)}),t}const xr=Hs?f.useLayoutEffect:f.useEffect,ni=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:d="sync",propagate:i=!1})=>{const[o,l]=gr(i),c=f.useMemo(()=>Bt(e),[e]),u=i&&!o?[]:c.map(_e),m=f.useRef(!0),h=f.useRef(c),p=jt(()=>new Map),[y,x]=f.useState(c),[v,g]=f.useState(c);xr(()=>{m.current=!1,h.current=c;for(let P=0;P<v.length;P++){const C=_e(v[P]);u.includes(C)?p.delete(C):p.get(C)!==!0&&p.set(C,!1)}},[v,u.length,u.join("-")]);const w=[];if(c!==y){let P=[...c];for(let C=0;C<v.length;C++){const M=v[C],b=_e(M);u.includes(b)||(P.splice(C,0,M),w.push(M))}d==="wait"&&w.length&&(P=w),g(Bt(P)),x(c);return}const{forceRender:j}=f.useContext(wt);return r.jsx(r.Fragment,{children:v.map(P=>{const C=_e(P),M=i&&!o?!1:c===v||u.includes(C),b=()=>{if(p.has(C))p.set(C,!0);else return;let k=!0;p.forEach(T=>{T||(k=!1)}),k&&(j?.(),g(h.current),i&&l?.(),n&&n())};return r.jsx(si,{isPresent:M,initial:!m.current||s?void 0:!1,custom:M?void 0:t,presenceAffectsLayout:a,mode:d,onExitComplete:M?void 0:b,children:P},C)})})},yr=f.createContext({strict:!1});function ai(e){for(const t in e)tt[t]={...tt[t],...e[t]}}const ii=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ve(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ii.has(e)}let vr=e=>!Ve(e);function oi(e){e&&(vr=t=>t.startsWith("on")?!Ve(t):e(t))}try{oi(require("@emotion/is-prop-valid").default)}catch{}function li(e,t,s){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(vr(a)||s===!0&&Ve(a)||!t&&!Ve(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function ci(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const ze=f.createContext({});function di(e,t){if(Gs(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Ie(s)?s:void 0,animate:Ie(n)?n:void 0}}return e.inherit!==!1?t:{}}function ui(e){const{initial:t,animate:s}=di(e,f.useContext(ze));return f.useMemo(()=>({initial:t,animate:s}),[zt(t),zt(s)])}function zt(e){return Array.isArray(e)?e.join(" "):e}const mi=Symbol.for("motionComponentSymbol");function le(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function hi(e,t,s){return f.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):le(s)&&(s.current=n))},[t])}const{schedule:St}=Hn(queueMicrotask,!1),br=f.createContext({});function fi(e,t,s,n,a){var d,i;const{visualElement:o}=f.useContext(ze),l=f.useContext(yr),c=f.useContext(Be),u=f.useContext(Nt).reducedMotion,m=f.useRef(null);n=n||l.renderer,!m.current&&n&&(m.current=n(e,{visualState:t,parent:o,props:s,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=m.current,p=f.useContext(br);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&pi(m.current,s,a,p);const y=f.useRef(!1);f.useInsertionEffect(()=>{h&&y.current&&h.update(s,c)});const x=s[Gn],v=f.useRef(!!x&&!(!((d=window.MotionHandoffIsComplete)===null||d===void 0)&&d.call(window,x))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,x)));return xr(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),St.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),f.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,x)}),v.current=!1))}),h}function pi(e,t,s,n){const{layoutId:a,layout:d,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:wr(e.parent)),e.projection.setOptions({layoutId:a,layout:d,alwaysMeasureLayout:!!i||o&&le(o),visualElement:e,animationType:typeof d=="string"?d:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}function wr(e){if(e)return e.options.allowProjection!==!1?e.projection:wr(e.parent)}function gi({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:a}){var d,i;e&&ai(e);function o(c,u){let m;const h={...f.useContext(Nt),...c,layoutId:xi(c)},{isStatic:p}=h,y=ui(c),x=n(c,p);if(!p&&Hs){yi();const v=vi(h);m=v.MeasureLayout,y.visualElement=fi(a,x,h,t,v.ProjectionNode)}return r.jsxs(ze.Provider,{value:y,children:[m&&y.visualElement?r.jsx(m,{visualElement:y.visualElement,...h}):null,s(a,c,hi(x,y.visualElement,u),x,p,y.visualElement)]})}o.displayName=`motion.${typeof a=="string"?a:`create(${(i=(d=a.displayName)!==null&&d!==void 0?d:a.name)!==null&&i!==void 0?i:""})`}`;const l=f.forwardRef(o);return l[mi]=a,l}function xi({layoutId:e}){const t=f.useContext(wt).id;return t&&e!==void 0?t+"-"+e:e}function yi(e,t){f.useContext(yr).strict}function vi(e){const{drag:t,layout:s}=tt;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const bi=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pt(e){return typeof e!="string"||e.includes("-")?!1:!!(bi.indexOf(e)>-1||/[A-Z]/u.test(e))}function Me(e){const t=pt(e)?e.get():e;return $n(t)?t.toValue():t}function wi({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},n,a,d){const i={latestValues:ji(n,a,d,e),renderState:t()};return s&&(i.onMount=o=>s({props:n,current:o,...i}),i.onUpdate=o=>s(o)),i}const jr=e=>(t,s)=>{const n=f.useContext(ze),a=f.useContext(Be),d=()=>wi(e,t,n,a);return s?d():jt(d)};function ji(e,t,s,n){const a={},d=n(e,{});for(const h in d)a[h]=Me(d[h]);let{initial:i,animate:o}=e;const l=Gs(e),c=Wn(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),o===void 0&&(o=t.animate));let u=s?s.initial===!1:!1;u=u||i===!1;const m=u?o:i;if(m&&typeof m!="boolean"&&!gt(m)){const h=Array.isArray(m)?m:[m];for(let p=0;p<h.length;p++){const y=qn(e,h[p]);if(y){const{transitionEnd:x,transition:v,...g}=y;for(const w in g){let j=g[w];if(Array.isArray(j)){const P=u?j.length-1:0;j=j[P]}j!==null&&(a[w]=j)}for(const w in x)a[w]=x[w]}}}return a}const Ct=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Nr=()=>({...Ct(),attrs:{}});function Ni(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Ft=["x","y","width","height","cx","cy","r"],Si={useVisualState:jr({scrapeMotionValuesFromProps:Kn,createRenderState:Nr,onUpdate:({props:e,prevProps:t,current:s,renderState:n,latestValues:a})=>{if(!s)return;let d=!!e.drag;if(!d){for(const o in a)if(Yn.has(o)){d=!0;break}}if(!d)return;let i=!t;if(t)for(let o=0;o<Ft.length;o++){const l=Ft[o];e[l]!==t[l]&&(i=!0)}i&&U.read(()=>{Ni(s,n),U.render(()=>{$s(n,a,Ws(s.tagName),e.transformTemplate),Xn(s,n)})})}})},Pi={useVisualState:jr({scrapeMotionValuesFromProps:Jn,createRenderState:Ct})};function Sr(e,t,s){for(const n in t)!pt(t[n])&&!Zn(n,s)&&(e[n]=t[n])}function Ci({transformTemplate:e},t){return f.useMemo(()=>{const s=Ct();return Qn(s,t,e),Object.assign({},s.vars,s.style)},[t])}function Ti(e,t){const s=e.style||{},n={};return Sr(n,s,e),Object.assign(n,Ci(e,t)),n}function Ei(e,t){const s={},n=Ti(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}function Ai(e,t,s,n){const a=f.useMemo(()=>{const d=Nr();return $s(d,t,Ws(n),e.transformTemplate),{...d.attrs,style:{...d.style}}},[t]);if(e.style){const d={};Sr(d,e.style,e),a.style={...d,...a.style}}return a}function ki(e=!1){return(s,n,a,{latestValues:d},i)=>{const l=(Pt(s)?Ai:Ei)(n,d,i,s),c=li(n,typeof s=="string",e),u=s!==f.Fragment?{...c,...l,ref:a}:{},{children:m}=n,h=f.useMemo(()=>pt(m)?m.get():m,[m]);return f.createElement(s,{...u,children:h})}}function Ri(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const i={...Pt(n)?Si:Pi,preloadedFeatures:e,useRender:ki(a),createVisualElement:t,Component:n};return gi(i)}}function Pr(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function dt(e,t,s={}){var n;const a=xt(e,t,s.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:d=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(d=s.transitionOverride);const i=a?()=>Promise.all(qs(e,a,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:h}=d;return _i(e,t,u+c,m,h,s)}:()=>Promise.resolve(),{when:l}=d;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(s.delay)])}function _i(e,t,s=0,n=0,a=1,d){const i=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(Di).forEach((c,u)=>{c.notify("AnimationStart",t),i.push(dt(c,t,{...d,delay:s+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function Di(e,t){return e.sortNodePosition(t)}function Mi(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(d=>dt(e,d,s));n=Promise.all(a)}else if(typeof t=="string")n=dt(e,t,s);else{const a=typeof t=="function"?xt(e,t,s.custom):t;n=Promise.all(qs(e,a,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Li=Ks.length;function Cr(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Cr(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Li;s++){const n=Ks[s],a=e.props[n];(Ie(a)||a===!1)&&(t[n]=a)}return t}const Ii=[...Ys].reverse(),Oi=Ys.length;function Vi(e){return t=>Promise.all(t.map(({animation:s,options:n})=>Mi(e,s,n)))}function Ui(e){let t=Vi(e),s=Ht(),n=!0;const a=l=>(c,u)=>{var m;const h=xt(e,u,l==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:y,...x}=h;c={...c,...x,...y}}return c};function d(l){t=l(e)}function i(l){const{props:c}=e,u=Cr(e.parent)||{},m=[],h=new Set;let p={},y=1/0;for(let v=0;v<Oi;v++){const g=Ii[v],w=s[g],j=c[g]!==void 0?c[g]:u[g],P=Ie(j),C=g===l?w.isActive:null;C===!1&&(y=v);let M=j===u[g]&&j!==c[g]&&P;if(M&&n&&e.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...p},!w.isActive&&C===null||!j&&!w.prevProp||gt(j)||typeof j=="boolean")continue;const b=Bi(w.prevProp,j);let k=b||g===l&&w.isActive&&!M&&P||v>y&&P,T=!1;const ae=Array.isArray(j)?j:[j];let Q=ae.reduce(a(g),{});C===!1&&(Q={});const{prevResolvedValues:Ce={}}=w,Fe={...Ce,...Q},Te=O=>{k=!0,h.has(O)&&(T=!0,h.delete(O)),w.needsAnimating[O]=!0;const $=e.getValue(O);$&&($.liveStyle=!1)};for(const O in Fe){const $=Q[O],he=Ce[O];if(p.hasOwnProperty(O))continue;let fe=!1;_t($)&&_t(he)?fe=!Pr($,he):fe=$!==he,fe?$!=null?Te(O):h.add(O):$!==void 0&&h.has(O)?Te(O):w.protectedKeys[O]=!0}w.prevProp=j,w.prevResolvedValues=Q,w.isActive&&(p={...p,...Q}),n&&e.blockInitialAnimation&&(k=!1),k&&(!(M&&b)||T)&&m.push(...ae.map(O=>({animation:O,options:{type:g}})))}if(h.size){const v={};h.forEach(g=>{const w=e.getBaseTarget(g),j=e.getValue(g);j&&(j.liveStyle=!0),v[g]=w??null}),m.push({animation:v})}let x=!!m.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(m):Promise.resolve()}function o(l,c){var u;if(s[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),s[l].isActive=c;const m=i(l);for(const h in s)s[h].protectedKeys={};return m}return{animateChanges:i,setActive:o,setAnimateFunction:d,getState:()=>s,reset:()=>{s=Ht(),n=!0}}}function Bi(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Pr(t,e):!1}function te(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ht(){return{animate:te(!0),whileInView:te(),whileHover:te(),whileTap:te(),whileDrag:te(),whileFocus:te(),exit:te()}}class Z{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zi extends Z{constructor(t){super(t),t.animationState||(t.animationState=Ui(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();gt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Fi=0;class Hi extends Z{constructor(){super(...arguments),this.id=Fi++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);s&&!t&&a.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Gi={animation:{Feature:zi},exit:{Feature:Hi}};function $i(e){return e==="x"||e==="y"?Y[e]?null:(Y[e]=!0,()=>{Y[e]=!1}):Y.x||Y.y?null:(Y.x=Y.y=!0,()=>{Y.x=Y.y=!1})}const Tt=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ne(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function Pe(e){return{point:{x:e.pageX,y:e.pageY}}}const Wi=e=>t=>Tt(t)&&e(t,Pe(t));function be(e,t,s,n){return Ne(e,t,Wi(s),n)}class Tr{constructor(t,s,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:d=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=$e(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=ea(m.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:y}=m,{timestamp:x}=z;this.history.push({...y,timestamp:x});const{onStart:v,onMove:g}=this.handlers;h||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ge(h,this.transformPagePoint),U.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=$e(m.type==="pointercancel"?this.lastMoveEventInfo:Ge(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,v),y&&y(m,v)},!Tt(t))return;this.dragSnapToOrigin=d,this.handlers=s,this.transformPagePoint=n,this.contextWindow=a||window;const i=Pe(t),o=Ge(i,this.transformPagePoint),{point:l}=o,{timestamp:c}=z;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=s;u&&u(t,$e(o,this.history)),this.removeListeners=Xs(be(this.contextWindow,"pointermove",this.handlePointerMove),be(this.contextWindow,"pointerup",this.handlePointerUp),be(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),st(this.updatePoint)}}function Ge(e,t){return t?{point:t(e.point)}:e}function Gt(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $e({point:e},t){return{point:e,delta:Gt(e,Er(t)),offset:Gt(e,qi(t)),velocity:Ki(t,.1)}}function qi(e){return e[0]}function Er(e){return e[e.length-1]}function Ki(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const a=Er(e);for(;s>=0&&(n=e[s],!(a.timestamp-n.timestamp>ta(t)));)s--;if(!n)return{x:0,y:0};const d=sa(a.timestamp-n.timestamp);if(d===0)return{x:0,y:0};const i={x:(a.x-n.x)/d,y:(a.y-n.y)/d};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}const Ar=1e-4,Yi=1-Ar,Xi=1+Ar,kr=.01,Ji=0-kr,Zi=0+kr;function F(e){return e.max-e.min}function Qi(e,t,s){return Math.abs(e-t)<=s}function $t(e,t,s,n=.5){e.origin=n,e.originPoint=I(t.min,t.max,e.origin),e.scale=F(s)/F(t),e.translate=I(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Yi&&e.scale<=Xi||isNaN(e.scale))&&(e.scale=1),(e.translate>=Ji&&e.translate<=Zi||isNaN(e.translate))&&(e.translate=0)}function we(e,t,s,n){$t(e.x,t.x,s.x,n?n.originX:void 0),$t(e.y,t.y,s.y,n?n.originY:void 0)}function Wt(e,t,s){e.min=s.min+t.min,e.max=e.min+F(t)}function eo(e,t,s){Wt(e.x,t.x,s.x),Wt(e.y,t.y,s.y)}function qt(e,t,s){e.min=t.min-s.min,e.max=e.min+F(t)}function je(e,t,s){qt(e.x,t.x,s.x),qt(e.y,t.y,s.y)}function to(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?I(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?I(s,e,n.max):Math.min(e,s)),e}function Kt(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function so(e,{top:t,left:s,bottom:n,right:a}){return{x:Kt(e.x,s,a),y:Kt(e.y,t,n)}}function Yt(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function ro(e,t){return{x:Yt(e.x,t.x),y:Yt(e.y,t.y)}}function no(e,t){let s=.5;const n=F(e),a=F(t);return a>n?s=rt(t.min,t.max-n,e.min):n>a&&(s=rt(e.min,e.max-a,t.min)),Js(0,1,s)}function ao(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const ut=.35;function io(e=ut){return e===!1?e=0:e===!0&&(e=ut),{x:Xt(e,"left","right"),y:Xt(e,"top","bottom")}}function Xt(e,t,s){return{min:Jt(e,t),max:Jt(e,s)}}function Jt(e,t){return typeof e=="number"?e:e[t]||0}function G(e){return[e("x"),e("y")]}const Rr=({current:e})=>e?e.ownerDocument.defaultView:null,oo=new WeakMap;class lo{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=L(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Pe(u).point)},d=(u,m)=>{const{drag:h,dragPropagation:p,onDragStart:y}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$i(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),G(v=>{let g=this.getAxisMotionValue(v).get()||0;if(Oe.test(g)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[v];j&&(g=F(j)*(parseFloat(g)/100))}}this.originPoint[v]=g}),y&&U.postRender(()=>y(u,m)),Dt(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(u,m)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:y,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=m;if(p&&this.currentDirection===null){this.currentDirection=co(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),x&&x(u,m)},o=(u,m)=>this.stop(u,m),l=()=>G(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Tr(t,{onSessionStart:a,onStart:d,onMove:i,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Rr(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:d}=this.getProps();d&&U.postRender(()=>d(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:a}=this.getProps();if(!n||!De(t,a,this.currentDirection))return;const d=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=to(i,this.constraints[t],this.elastic[t])),d.set(i)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,d=this.constraints;s&&le(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=so(a.layoutBox,s):this.constraints=!1,this.elastic=io(n),d!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&G(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=ao(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!le(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const d=ra(n,a.root,this.visualElement.getTransformPagePoint());let i=ro(a.layout.layoutBox,d);if(s){const o=s(na(i));this.hasMutatedConstraints=!!o,o&&(i=aa(o))}return i}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:d,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=G(u=>{if(!De(u,s,this.currentDirection))return;let m=l&&l[u]||{};i&&(m={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,y={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...d,...m};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(o)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return Dt(this.visualElement,t),n.start(ia(t,n,0,s,this.visualElement,!1))}stopAnimation(){G(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){G(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){G(s=>{const{drag:n}=this.getProps();if(!De(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,d=this.getAxisMotionValue(s);if(a&&a.layout){const{min:i,max:o}=a.layout.layoutBox[s];d.set(t[s]-I(i,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!le(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};G(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const l=o.get();a[i]=no({min:l,max:l},this.constraints[i])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),G(i=>{if(!De(i,t,null))return;const o=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];o.set(I(l,c,a[i]))})}addListeners(){if(!this.visualElement.current)return;oo.set(this.visualElement,this);const t=this.visualElement.current,s=be(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();le(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,d=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),U.read(n);const i=Ne(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(G(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=l[u].translate,m.set(m.get()+l[u].translate))}),this.visualElement.render())}));return()=>{i(),s(),d(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:d=!1,dragElastic:i=ut,dragMomentum:o=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:d,dragElastic:i,dragMomentum:o}}}function De(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function co(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class uo extends Z{constructor(t){super(t),this.removeGroupControls=de,this.removeListeners=de,this.controls=new lo(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||de}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zt=e=>(t,s)=>{e&&U.postRender(()=>e(t,s))};class mo extends Z{constructor(){super(...arguments),this.removePointerDownListener=de}onPointerDown(t){this.session=new Tr(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rr(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Zt(t),onStart:Zt(s),onMove:n,onEnd:(d,i)=>{delete this.session,a&&U.postRender(()=>a(d,i))}}}mount(){this.removePointerDownListener=be(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Le={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Qt(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ge={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Zs.test(e))e=parseFloat(e);else return e;const s=Qt(e,t.target.x),n=Qt(e,t.target.y);return`${s}% ${n}%`}},ho={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,a=Mt.parse(e);if(a.length>5)return n;const d=Mt.createTransformer(e),i=typeof a[0]!="number"?1:0,o=s.x.scale*t.x,l=s.y.scale*t.y;a[0+i]/=o,a[1+i]/=l;const c=I(o,l,.5);return typeof a[2+i]=="number"&&(a[2+i]/=c),typeof a[3+i]=="number"&&(a[3+i]/=c),d(a)}};class fo extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:d}=t;oa(po),d&&(s.group&&s.group.add(d),n&&n.register&&a&&n.register(d),d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),Le.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:a,isPresent:d}=this.props,i=n.projection;return i&&(i.isPresent=d,a||t.layoutDependency!==s||s===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==d&&(d?i.promote():i.relegate()||U.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),St.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _r(e){const[t,s]=gr(),n=f.useContext(wt);return r.jsx(fo,{...e,layoutGroup:n,switchLayoutGroup:f.useContext(br),isPresent:t,safeToRemove:s})}const po={borderRadius:{...ge,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomLeftRadius:ge,borderBottomRightRadius:ge,boxShadow:ho},go=(e,t)=>e.depth-t.depth;class xo{constructor(){this.children=[],this.isDirty=!1}add(t){Qs(this.children,t),this.isDirty=!0}remove(t){er(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(go),this.isDirty=!1,this.children.forEach(t)}}const Dr=["TopLeft","TopRight","BottomLeft","BottomRight"],yo=Dr.length,es=e=>typeof e=="string"?parseFloat(e):e,ts=e=>typeof e=="number"||Zs.test(e);function vo(e,t,s,n,a,d){a?(e.opacity=I(0,s.opacity!==void 0?s.opacity:1,bo(n)),e.opacityExit=I(t.opacity!==void 0?t.opacity:1,0,wo(n))):d&&(e.opacity=I(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let i=0;i<yo;i++){const o=`border${Dr[i]}Radius`;let l=ss(t,o),c=ss(s,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ts(l)===ts(c)?(e[o]=Math.max(I(es(l),es(c),n),0),(Oe.test(c)||Oe.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||s.rotate)&&(e.rotate=I(t.rotate||0,s.rotate||0,n))}function ss(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const bo=Mr(0,.5,la),wo=Mr(.5,.95,de);function Mr(e,t,s){return n=>n<e?0:n>t?1:s(rt(e,t,n))}function rs(e,t){e.min=t.min,e.max=t.max}function H(e,t){rs(e.x,t.x),rs(e.y,t.y)}function ns(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function as(e,t,s,n,a){return e-=t,e=Lt(e,1/s,n),a!==void 0&&(e=Lt(e,1/a,n)),e}function jo(e,t=0,s=1,n=.5,a,d=e,i=e){if(Oe.test(t)&&(t=parseFloat(t),t=I(i.min,i.max,t/100)-i.min),typeof t!="number")return;let o=I(d.min,d.max,n);e===d&&(o-=t),e.min=as(e.min,t,s,o,a),e.max=as(e.max,t,s,o,a)}function is(e,t,[s,n,a],d,i){jo(e,t[s],t[n],t[a],t.scale,d,i)}const No=["x","scaleX","originX"],So=["y","scaleY","originY"];function os(e,t,s,n){is(e.x,t,No,s?s.x:void 0,n?n.x:void 0),is(e.y,t,So,s?s.y:void 0,n?n.y:void 0)}function ls(e){return e.translate===0&&e.scale===1}function Lr(e){return ls(e.x)&&ls(e.y)}function cs(e,t){return e.min===t.min&&e.max===t.max}function Po(e,t){return cs(e.x,t.x)&&cs(e.y,t.y)}function ds(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ir(e,t){return ds(e.x,t.x)&&ds(e.y,t.y)}function us(e){return F(e.x)/F(e.y)}function ms(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Co{constructor(){this.members=[]}add(t){Qs(this.members,t),t.scheduleRender()}remove(t){if(er(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const d=this.members[a];if(d.isPresent!==!1){n=d;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function To(e,t,s){let n="";const a=e.x.translate/t.x,d=e.y.translate/t.y,i=s?.z||0;if((a||d||i)&&(n=`translate3d(${a}px, ${d}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:c,rotate:u,rotateX:m,rotateY:h,skewX:p,skewY:y}=s;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),m&&(n+=`rotateX(${m}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),y&&(n+=`skewY(${y}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const se={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ye=typeof window<"u"&&window.MotionDebug!==void 0,We=["","X","Y","Z"],Eo={visibility:"hidden"},hs=1e3;let Ao=0;function qe(e,t,s,n){const{latestValues:a}=t;a[e]&&(s[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Or(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=ya(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:d}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",U,!(a||d))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Or(n)}function Vr({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},o=t?.()){this.id=Ao++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ye&&(se.totalNodes=se.resolvedTargetDeltas=se.recalculatedProjection=0),this.nodes.forEach(_o),this.nodes.forEach(Oo),this.nodes.forEach(Vo),this.nodes.forEach(Do),ye&&window.MotionDebug.record(se)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new xo)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new ca),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const l=this.eventHandlers.get(i);l&&l.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=da(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=ua(h,250),Le.hasAnimatedSinceResize&&(Le.hasAnimatedSinceResize=!1,this.nodes.forEach(ps))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||Ho,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=u.getProps(),w=!this.targetLayout||!Ir(this.targetLayout,y)||p,j=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,j);const P={...ma(x,"layout"),onPlay:v,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else h||ps(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,st(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Uo),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Or(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fs);return}this.isUpdating||this.nodes.forEach(Lo),this.isUpdating=!1,this.nodes.forEach(Io),this.nodes.forEach(ko),this.nodes.forEach(Ro),this.clearAllSnapshots();const o=ha.now();z.delta=Js(0,1e3/60,o-z.timestamp),z.timestamp=o,z.isProcessing=!0,He.update.process(z),He.preRender.process(z),He.render.process(z),z.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,St.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Mo),this.sharedNodes.forEach(Bo)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,U.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){U.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=L(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Lr(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&(o||ie(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return i&&(l=this.removeTransform(l)),Go(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:o}=this.options;if(!o)return L();const l=o.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some($o))){const{scroll:u}=this.root;u&&(Ae(l.x,u.offset.x),Ae(l.y,u.offset.y))}return l}removeElementScroll(i){var o;const l=L();if(H(l,i),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:m,options:h}=u;u!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&H(l,i),Ae(l.x,m.offset.x),Ae(l.y,m.offset.y))}return l}applyTransform(i,o=!1){const l=L();H(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ke(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ie(u.latestValues)&&ke(l,u.latestValues)}return ie(this.latestValues)&&ke(l,this.latestValues),l}removeTransform(i){const o=L();H(o,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ie(c.latestValues))continue;It(c.latestValues)&&c.updateSnapshot();const u=L(),m=c.measurePageBox();H(u,m),os(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ie(this.latestValues)&&os(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==z.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=z.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=L(),this.relativeTargetOrigin=L(),je(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),H(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=L(),this.targetWithTransforms=L()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eo(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):H(this.target,this.layout.layoutBox),fa(this.target,this.targetDelta)):H(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=L(),this.relativeTargetOrigin=L(),je(this.relativeTargetOrigin,this.target,p.target),H(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ye&&se.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||It(this.parent.latestValues)||pa(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===z.timestamp&&(c=!1),c)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;H(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;ga(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=L());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ns(this.prevProjectionDelta.x,this.projectionDelta.x),ns(this.prevProjectionDelta.y,this.projectionDelta.y)),we(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!ms(this.projectionDelta.x,this.prevProjectionDelta.x)||!ms(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),ye&&se.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=oe(),this.projectionDelta=oe(),this.projectionDeltaWithTransform=oe()}setAnimationOrigin(i,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},m=oe();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=L(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=p!==y,v=this.getStack(),g=!v||v.members.length<=1,w=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(Fo));this.animationProgress=0;let j;this.mixTargetDelta=P=>{const C=P/1e3;gs(m.x,i.x,C),gs(m.y,i.y,C),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(je(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zo(this.relativeTarget,this.relativeTargetOrigin,h,C),j&&Po(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=L()),H(j,this.relativeTarget)),x&&(this.animationValues=u,vo(u,c,this.latestValues,C,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(st(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=U.update(()=>{Le.hasAnimatedSinceResize=!0,this.currentAnimation=xa(0,hs,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hs),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=i;if(!(!o||!l||!c)){if(this!==i&&this.layout&&c&&Ur(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||L();const m=F(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+m;const h=F(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}H(o,l),ke(o,u),we(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Co),this.sharedNodes.get(i).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&qe("z",i,c,this.animationValues);for(let u=0;u<We.length;u++)qe(`rotate${We[u]}`,i,c,this.animationValues),qe(`skew${We[u]}`,i,c,this.animationValues);i.render();for(const u in c)i.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);i.scheduleRender()}getProjectionStyles(i){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Eo;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Me(i?.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Me(i?.pointerEvents)||""),this.hasProjected&&!ie(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),c.transform=To(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,m.animationValues?c.opacity=m===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in Ot){if(h[x]===void 0)continue;const{correct:v,applyTo:g}=Ot[x],w=c.transform==="none"?h[x]:v(h[x],m);if(g){const j=g.length;for(let P=0;P<j;P++)c[g[P]]=w}else c[x]=w}return this.options.layoutId&&(c.pointerEvents=m===this?Me(i?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(fs),this.root.sharedNodes.clear()}}}function ko(e){e.updateLayout()}function Ro(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:d}=e.options,i=s.source!==e.layout.source;d==="size"?G(m=>{const h=i?s.measuredBox[m]:s.layoutBox[m],p=F(h);h.min=n[m].min,h.max=h.min+p}):Ur(d,s.layoutBox,n)&&G(m=>{const h=i?s.measuredBox[m]:s.layoutBox[m],p=F(n[m]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const o=oe();we(o,n,s.layoutBox);const l=oe();i?we(l,e.applyTransform(a,!0),s.measuredBox):we(l,n,s.layoutBox);const c=!Lr(o);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:p}=m;if(h&&p){const y=L();je(y,s.layoutBox,h.layoutBox);const x=L();je(x,n,p.layoutBox),Ir(y,x)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function _o(e){ye&&se.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Do(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Mo(e){e.clearSnapshot()}function fs(e){e.clearMeasurements()}function Lo(e){e.isLayoutDirty=!1}function Io(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ps(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Oo(e){e.resolveTargetDelta()}function Vo(e){e.calcProjection()}function Uo(e){e.resetSkewAndRotation()}function Bo(e){e.removeLeadSnapshot()}function gs(e,t,s){e.translate=I(t.translate,0,s),e.scale=I(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function xs(e,t,s,n){e.min=I(t.min,s.min,n),e.max=I(t.max,s.max,n)}function zo(e,t,s,n){xs(e.x,t.x,s.x,n),xs(e.y,t.y,s.y,n)}function Fo(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ho={duration:.45,ease:[.4,0,.1,1]},ys=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vs=ys("applewebkit/")&&!ys("chrome/")?Math.round:de;function bs(e){e.min=vs(e.min),e.max=vs(e.max)}function Go(e){bs(e.x),bs(e.y)}function Ur(e,t,s){return e==="position"||e==="preserve-aspect"&&!Qi(us(t),us(s),.2)}function $o(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Wo=Vr({attachResizeListener:(e,t)=>Ne(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ke={current:void 0},Br=Vr({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ke.current){const e=new Wo({});e.mount(window),e.setOptions({layoutScroll:!0}),Ke.current=e}return Ke.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qo={pan:{Feature:mo},drag:{Feature:uo,ProjectionNode:Br,MeasureLayout:_r}};function zr(e,t){const s=va(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[s,a,()=>n.abort()]}function ws(e){return t=>{t.pointerType==="touch"||tr()||e(t)}}function Ko(e,t,s={}){const[n,a,d]=zr(e,s),i=ws(o=>{const{target:l}=o,c=t(o);if(typeof c!="function"||!l)return;const u=ws(m=>{c(m),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,a)});return n.forEach(o=>{o.addEventListener("pointerenter",i,a)}),d}function js(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,d=n[a];d&&U.postRender(()=>d(t,Pe(t)))}class Yo extends Z{mount(){const{current:t}=this.node;t&&(this.unmount=Ko(t,s=>(js(this.node,s,"Start"),n=>js(this.node,n,"End"))))}unmount(){}}class Xo extends Z{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xs(Ne(this.node.current,"focus",()=>this.onFocus()),Ne(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Fr=(e,t)=>t?e===t?!0:Fr(e,t.parentElement):!1,Jo=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Zo(e){return Jo.has(e.tagName)||e.tabIndex!==-1}const ve=new WeakSet;function Ns(e){return t=>{t.key==="Enter"&&e(t)}}function Ye(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Qo=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=Ns(()=>{if(ve.has(s))return;Ye(s,"down");const a=Ns(()=>{Ye(s,"up")}),d=()=>Ye(s,"cancel");s.addEventListener("keyup",a,t),s.addEventListener("blur",d,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function Ss(e){return Tt(e)&&!tr()}function el(e,t,s={}){const[n,a,d]=zr(e,s),i=o=>{const l=o.currentTarget;if(!Ss(o)||ve.has(l))return;ve.add(l);const c=t(o),u=(p,y)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),!(!Ss(p)||!ve.has(l))&&(ve.delete(l),typeof c=="function"&&c(p,{success:y}))},m=p=>{u(p,s.useGlobalTarget||Fr(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{!Zo(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(s.useGlobalTarget?window:o).addEventListener("pointerdown",i,a),o.addEventListener("focus",c=>Qo(c,a),a)}),d}function Ps(e,t,s){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),d=n[a];d&&U.postRender(()=>d(t,Pe(t)))}class tl extends Z{mount(){const{current:t}=this.node;t&&(this.unmount=el(t,s=>(Ps(this.node,s,"Start"),(n,{success:a})=>Ps(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mt=new WeakMap,Xe=new WeakMap,sl=e=>{const t=mt.get(e.target);t&&t(e)},rl=e=>{e.forEach(sl)};function nl({root:e,...t}){const s=e||document;Xe.has(s)||Xe.set(s,{});const n=Xe.get(s),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(rl,{root:e,...t})),n[a]}function al(e,t,s){const n=nl(t);return mt.set(e,s),n.observe(e),()=>{mt.delete(e),n.unobserve(e)}}const il={some:0,all:1};class ol extends Z{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:a="some",once:d}=t,i={root:s?s.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:il[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,d&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=c?u:m;h&&h(l)};return al(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(ll(t,s))&&this.startObserver()}unmount(){}}function ll({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const cl={inView:{Feature:ol},tap:{Feature:tl},focus:{Feature:Xo},hover:{Feature:Yo}},dl={layout:{ProjectionNode:Br,MeasureLayout:_r}},ul=(e,t)=>Pt(e)?new ba(t):new wa(t,{allowProjection:e!==f.Fragment}),ml=Ri({...Gi,...cl,...qo,...dl},ul),hl=ci(ml);function Hr({...e}){return r.jsx(Ts,{"data-slot":"sheet",...e})}function fl({...e}){return r.jsx(Ds,{"data-slot":"sheet-trigger",...e})}function pl({...e}){return r.jsx(_s,{"data-slot":"sheet-portal",...e})}function gl({className:e,...t}){return r.jsx(ht,{"data-slot":"sheet-overlay",className:A("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Gr({className:e,children:t,side:s="right",...n}){return r.jsxs(pl,{children:[r.jsx(gl,{}),r.jsxs(Es,{"data-slot":"sheet-content",className:A("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,r.jsxs(As,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[r.jsx(ft,{className:"size-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function $r({className:e,...t}){return r.jsx("div",{"data-slot":"sheet-header",className:A("flex flex-col gap-1.5 p-4",e),...t})}function Wr({className:e,...t}){return r.jsx(ks,{"data-slot":"sheet-title",className:A("text-foreground font-semibold",e),...t})}function xl({className:e,...t}){return r.jsx(Rs,{"data-slot":"sheet-description",className:A("text-muted-foreground text-sm",e),...t})}function yl({className:e,children:t,...s}){return r.jsxs(hn,{"data-slot":"scroll-area",className:A("relative",e),...s,children:[r.jsx(fn,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),r.jsx(vl,{}),r.jsx(pn,{})]})}function vl({className:e,orientation:t="vertical",...s}){return r.jsx(gn,{"data-slot":"scroll-area-scrollbar",orientation:t,className:A("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...s,children:r.jsx(xn,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const bl={connection_request:et,connection_accepted:et,post_reaction:Us,post_comment:Fs,event_reminder:zs,society_invite:Bs,mention:An,achievement:En},wl={connection_request:"text-primary",connection_accepted:"text-primary",post_reaction:"text-destructive",post_comment:"text-primary",event_reminder:"text-accent-foreground",society_invite:"text-primary",mention:"text-primary",achievement:"text-primary"};function jl({open:e,onOpenChange:t}){const{notifications:s,unreadCount:n,markAsRead:a,markAllAsRead:d,clearNotification:i}=ar();return r.jsx(Hr,{open:e,onOpenChange:t,children:r.jsxs(Gr,{side:"right",className:"w-full sm:max-w-md p-0",children:[r.jsx($r,{className:"p-6 pb-4 border-b border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{children:"Notifications"}),n>0&&r.jsx(pr,{variant:"destructive",className:"rounded-full",children:n})]}),n>0&&r.jsxs(D,{variant:"ghost",size:"sm",onClick:d,className:"text-xs rounded-xl",children:[r.jsx(kt,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]})}),r.jsx(yl,{className:"h-[calc(100vh-80px)]",children:r.jsx(ni,{mode:"popLayout",children:s.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-accent flex items-center justify-center",children:r.jsx(kt,{className:"h-8 w-8 text-muted-foreground"})}),r.jsx("p",{className:"text-muted-foreground",children:"No notifications"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"You're all caught up!"})]}):r.jsx("div",{className:"divide-y divide-border",children:s.map(o=>{const l=bl[o.type],c=wl[o.type];return r.jsx(hl.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:`p-4 hover:bg-accent transition-colors cursor-pointer relative group ${o.read?"":"bg-accent/50"}`,onClick:()=>!o.read&&a(o.id),children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:o.avatar?r.jsx(vt,{className:"w-10 h-10",children:r.jsx(bt,{className:"bg-primary text-white",children:o.title[0]})}):r.jsx("div",{className:`w-10 h-10 rounded-full bg-accent flex items-center justify-center ${c}`,children:r.jsx(l,{className:"h-5 w-5"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm mb-1",children:o.title}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:o.message}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.timestamp})]}),!o.read&&r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),r.jsx(D,{variant:"ghost",size:"icon",onClick:u=>{u.stopPropagation(),i(o.id)},className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity h-6 w-6 rounded-full",children:r.jsx(ft,{className:"h-3 w-3"})})]})},o.id)})})})})]})})}function Nl({title:e="UniConnect",showSearch:t=!1,darkMode:s,onToggleDarkMode:n,onSearchClick:a}){const[d,i]=f.useState(!1),{unreadCount:o}=ar(),{navigate:l}=Se(),{user:c}=ne();return r.jsxs("header",{className:"sticky top-0 bg-card border-b border-border z-40 backdrop-blur-sm bg-card/95 h-[68px]",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-full flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>l("profile"),className:"rounded-xl hover:opacity-80 transition-opacity","aria-label":"Go to profile",children:r.jsxs(vt,{className:"w-8 h-8 rounded-xl",children:[r.jsx(Qa,{src:c?.avatar,alt:c?.name}),r.jsx(bt,{className:"rounded-xl bg-gradient-to-br from-primary to-purple-600 text-white",children:c?.name?.charAt(0).toUpperCase()||"U"})]})}),r.jsx("h1",{className:"hidden sm:block",children:e})]}),t&&r.jsx("div",{className:"flex-1 max-w-md hidden md:block",children:r.jsxs("button",{onClick:a,className:"w-full text-left relative",children:[r.jsx(Rt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx("div",{className:"w-full pl-10 pr-4 py-2 bg-input-background rounded-xl border border-border hover:border-primary transition-colors cursor-pointer",children:r.jsx("span",{className:"text-sm text-muted-foreground",children:"Search students, societies, events..."})})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[t&&r.jsx(D,{variant:"ghost",size:"icon",className:"rounded-xl md:hidden",onClick:a,children:r.jsx(Rt,{className:"h-5 w-5"})}),r.jsxs(D,{variant:"ghost",size:"icon",className:"rounded-xl relative",onClick:()=>i(!0),children:[r.jsx(kn,{className:"h-5 w-5"}),o>0&&r.jsx(pr,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs rounded-full",children:o>9?"9+":o})]}),r.jsx(D,{variant:"ghost",size:"icon",className:"rounded-xl",onClick:n,children:s?r.jsx(Rn,{className:"h-5 w-5"}):r.jsx(_n,{className:"h-5 w-5"})})]})]}),r.jsx(jl,{open:d,onOpenChange:i})]})}function Sl(){const{currentPage:e,navigate:t}=Se(),[s,n]=f.useState(!1),a=[{id:"home",icon:Dn,label:"Home"},{id:"connections",icon:et,label:"Circle"},{id:"societies",icon:Bs,label:"Societies"},{id:"chat",icon:Fs,label:"Chat"}],d=[{id:"events",icon:zs,label:"Events"},{id:"bookmarks",icon:Ln,label:"Bookmarks"},{id:"settings",icon:In,label:"Settings"}],i=o=>{t(o),n(!1)};return r.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border md:hidden z-50","aria-label":"Mobile navigation",children:r.jsxs("div",{className:"flex items-center justify-around px-2 py-2",children:[a.map(o=>{const l=o.icon,c=e===o.id;return r.jsxs("button",{onClick:()=>t(o.id),className:`flex flex-col items-center justify-center gap-1 px-4 py-2 rounded-xl transition-all ${c?"text-primary bg-accent":"text-muted-foreground hover:text-foreground"}`,"aria-current":c?"page":void 0,"aria-label":o.label,children:[r.jsx(l,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:o.label})]},o.id)}),r.jsxs(Hr,{open:s,onOpenChange:n,children:[r.jsx(fl,{asChild:!0,children:r.jsxs("button",{className:`flex flex-col items-center justify-center gap-1 px-4 py-2 rounded-xl transition-all ${["events","bookmarks","settings"].includes(e)?"text-primary bg-accent":"text-muted-foreground hover:text-foreground"}`,"aria-label":"More options",children:[r.jsx(Mn,{className:"h-5 w-5"}),r.jsx("span",{className:"text-xs",children:"More"})]})}),r.jsxs(Gr,{side:"bottom",className:"rounded-t-3xl",children:[r.jsxs($r,{className:"mb-4",children:[r.jsx(Wr,{children:"More Options"}),r.jsx(xl,{children:"Access additional features and settings"})]}),r.jsx("div",{className:"grid gap-2 pb-6",children:d.map(o=>{const l=o.icon,c=e===o.id;return r.jsxs(D,{variant:c?"default":"ghost",onClick:()=>i(o.id),className:"w-full justify-start gap-3 h-12 rounded-xl",children:[r.jsx(l,{className:"h-5 w-5"}),r.jsx("span",{children:o.label})]},o.id)})})]})]})]})})}function Pl(){const{currentPage:e,navigate:t}=Se(),s=Object.values(Ca);return r.jsx("nav",{className:"hidden md:block fixed left-0 top-[68px] bottom-0 w-64 border-r border-border bg-card p-4","aria-label":"Main navigation",children:r.jsx("div",{className:"space-y-2",children:s.map(n=>r.jsxs("button",{onClick:()=>t(n.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${e===n.id?"bg-primary text-white shadow-sm":"hover:bg-accent text-foreground"}`,"aria-current":e===n.id?"page":void 0,children:[r.jsx("span",{className:"text-xl","aria-hidden":"true",children:n.icon}),r.jsx("span",{children:n.label})]},n.id))})})}const xe=e=>new Promise(t=>setTimeout(t,e)),Je={like:0,love:0,celebrate:0,support:0,insightful:0};class Cl{async createPost(t){return await xe(800),{id:`post-${Date.now()}`,authorId:"user-123",author:"You",department:"Computer Science",batch:"Fall 2023",timeAgo:"Just now",content:t.content,image:t.image,reactions:{...Je},totalReactions:0,comments:0,liked:!1}}async getPosts(t=1,s=10){return await xe(600),[{id:"1",authorId:"user-456",author:"Sarah Johnson",department:"Computer Science",batch:"Fall 2023",timeAgo:"2h ago",content:"Just finished my Machine Learning project! The results are amazing. Can't wait to present it next week. Anyone else working on AI projects this semester?",image:"https://images.unsplash.com/photo-1582192904915-d89c7250b235?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx0ZWNoJTIwY29uZmVyZW5jZSUyMHByZXNlbnRhdGlvbnxlbnwxfHx8fDE3NTk3MTI0OTR8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",reactions:{...Je,like:24},totalReactions:24,comments:8,liked:!0},{id:"2",authorId:"user-789",author:"Michael Chen",department:"Business Administration",batch:"Spring 2024",timeAgo:"4h ago",content:"Reminder: Marketing Club meets tomorrow at 5 PM in Building A, Room 203. We'll be discussing the upcoming campus event. See you there! ðŸš€",reactions:{...Je,like:15},totalReactions:15,comments:5,liked:!1}]}async likePost(t){await xe(300)}async unlikePost(t){await xe(300)}async deletePost(t){await xe(500)}}const Tl=new Cl;function El({open:e,onOpenChange:t,onPostCreated:s}){const[n,a]=f.useState(""),[d,i]=f.useState("text"),[o,l]=f.useState(!1),{user:c}=ne(),u=Ue(),m=async()=>{const h=ue.postContent(n);if(!h.valid){u.error(h.message||"Invalid post content");return}l(!0);try{await Tl.createPost({content:n}),u.success(u.messages.success.POST_CREATED),a(""),t(!1),s?.()}catch{u.error("Failed to create post. Please try again.")}finally{l(!1)}};return r.jsx(lr,{open:e,onOpenChange:t,children:r.jsxs(dr,{className:"sm:max-w-[600px] p-0",children:[r.jsxs(ur,{className:"p-6 pb-4",children:[r.jsx(mr,{children:"Create Post"}),r.jsx(hr,{className:"sr-only",children:"Share your thoughts, photos, or create a poll with your university community"})]}),r.jsxs("div",{className:"px-6 pb-6",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx(vt,{className:"w-10 h-10",children:r.jsx(bt,{className:"bg-primary text-white",children:"Y"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm",children:c?.name||"You"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:c?.department&&c?.batch?`${c.department} â€¢ ${c.batch}`:""})]})]}),r.jsx(fr,{placeholder:"What's on your mind?",value:n,onChange:h=>a(h.target.value),className:"min-h-[120px] mb-4 rounded-xl resize-none"}),d==="poll"&&r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsx("input",{type:"text",placeholder:"Poll option 1",className:"w-full px-4 py-2 bg-input-background rounded-xl border border-border focus:outline-none focus:ring-2 focus:ring-ring"}),r.jsx("input",{type:"text",placeholder:"Poll option 2",className:"w-full px-4 py-2 bg-input-background rounded-xl border border-border focus:outline-none focus:ring-2 focus:ring-ring"}),r.jsx(D,{variant:"outline",className:"w-full rounded-xl",children:"Add Option"})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-6 p-3 border border-border rounded-xl",children:[r.jsx("span",{className:"text-sm",children:"Add to post:"}),r.jsx(D,{variant:"ghost",size:"sm",className:"rounded-xl gap-2",onClick:()=>i("text"),children:r.jsx(On,{className:"h-4 w-4 text-green-600"})}),r.jsx(D,{variant:"ghost",size:"sm",className:"rounded-xl gap-2",onClick:()=>i(d==="poll"?"text":"poll"),children:r.jsx(Vn,{className:`h-4 w-4 ${d==="poll"?"text-primary":"text-blue-600"}`})}),r.jsx(D,{variant:"ghost",size:"sm",className:"rounded-xl gap-2",children:r.jsx(Un,{className:"h-4 w-4 text-yellow-600"})})]}),r.jsx(D,{onClick:m,disabled:!n.trim()||o,className:"w-full rounded-xl h-11",children:o?r.jsxs(r.Fragment,{children:[r.jsx(Ls,{className:"w-4 h-4 mr-2 animate-spin"}),"Posting..."]}):"Post"})]})]})})}const Al=f.lazy(()=>q(()=>import("./HomePage-D_0Yxi2j.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(e=>({default:e.HomePage}))),kl=f.lazy(()=>q(()=>import("./ProfilePage-Dcsug6f5.js"),__vite__mapDeps([8,1,2,9,4,3,6,7])).then(e=>({default:e.ProfilePage}))),Rl=f.lazy(()=>q(()=>import("./ConnectionsPage-CyO7plpN.js"),__vite__mapDeps([10,1,2,9,3,6,7])).then(e=>({default:e.ConnectionsPage}))),_l=f.lazy(()=>q(()=>import("./SocietiesPage-DKTxEKqT.js"),__vite__mapDeps([11,1,2,3,6,7])).then(e=>({default:e.SocietiesPage}))),Dl=f.lazy(()=>q(()=>import("./SocietyRoomPage-GDv40Ptc.js"),__vite__mapDeps([12,1,2,9,3,6,7])).then(e=>({default:e.SocietyRoomPage}))),Ml=f.lazy(()=>q(()=>import("./EventsPage-FAbYoE3y.js"),__vite__mapDeps([13,1,2,9,3,6,7])).then(e=>({default:e.EventsPage}))),Ll=f.lazy(()=>q(()=>import("./ChatPage-DMh_Qw7g.js"),__vite__mapDeps([14,1,2,3,15,6,16,17,7])).then(e=>({default:e.ChatPage}))),Il=f.lazy(()=>q(()=>import("./BookmarksPage-D_hRhmnV.js"),__vite__mapDeps([18,1,2,4,3,9,6,7])).then(e=>({default:e.BookmarksPage}))),Ol=f.lazy(()=>q(()=>import("./AdvancedSearchPage-D7UDLALf.js"),__vite__mapDeps([19,1,2,9,5,4,3,6,7])).then(e=>({default:e.AdvancedSearchPage}))),Vl=f.lazy(()=>q(()=>import("./SettingsPage-bGYuKEVB.js"),__vite__mapDeps([20,1,2,15,5,3,6,7])).then(e=>({default:e.SettingsPage})));function Ul(){const{currentPage:e,darkMode:t,toggleDarkMode:s,navigate:n}=Se(),[a,d]=f.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Nl,{title:yt,showSearch:e==="home",darkMode:t,onToggleDarkMode:s,onSearchClick:()=>n("search")}),r.jsx(Pl,{}),r.jsx("main",{className:"md:ml-64",children:r.jsxs(f.Suspense,{fallback:r.jsx(me,{fullScreen:!0,size:"lg",text:"Loading page..."}),children:[e==="home"&&r.jsx(Al,{onOpenCreatePost:()=>d(!0)}),e==="profile"&&r.jsx(kl,{}),e==="connections"&&r.jsx(Rl,{}),e==="societies"&&r.jsx(_l,{}),e==="society-room"&&r.jsx(Dl,{}),e==="events"&&r.jsx(Ml,{}),e==="chat"&&r.jsx(Ll,{}),e==="bookmarks"&&r.jsx(Il,{}),e==="search"&&r.jsx(Ol,{}),e==="settings"&&r.jsx(Vl,{})]})}),r.jsx(Sl,{}),e==="home"&&r.jsx(D,{size:"icon",onClick:()=>d(!0),className:"fixed bottom-[88px] right-6 md:bottom-6 md:right-6 w-14 h-14 rounded-full shadow-lg shadow-primary/30 z-40","aria-label":"Create new post",children:r.jsx(Bn,{className:"h-6 w-6"})}),r.jsx(El,{open:a,onOpenChange:d})]})}function Bl(){const{isAuthenticated:e,isOnboarded:t,isLoading:s}=ne(),{isLoading:n}=Se();return s?r.jsx(me,{fullScreen:!0,size:"lg",text:"Loading..."}):typeof window<"u"&&window.location.pathname==="/signup"?r.jsx(Xa,{}):e?t?r.jsxs(r.Fragment,{children:[n&&r.jsx(me,{fullScreen:!0,size:"lg"}),r.jsx(Ul,{})]}):r.jsx(Ja,{}):r.jsx(Wa,{})}const zl=({...e})=>{const s=typeof document<"u"&&document.documentElement.classList.contains("dark")?"dark":"light";return r.jsx(zn,{theme:e.theme??s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function Fl(){const[e,t]=f.useState(null),[s,n]=f.useState(!1);return f.useEffect(()=>{},[]),!e||!s?r.jsx("button",{onClick:()=>n(!0),className:"fixed bottom-4 left-4 bg-primary text-primary-foreground px-3 py-2 rounded-lg text-xs font-medium shadow-lg z-50",children:"ðŸ“Š Perf"}):r.jsxs("div",{className:"fixed bottom-4 left-4 bg-card border border-border rounded-lg p-4 shadow-lg z-50 max-w-sm",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-sm font-semibold",children:"Performance Metrics"}),r.jsx("button",{onClick:()=>n(!1),className:"text-muted-foreground hover:text-foreground",children:"Ã—"})]}),r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Load Time:"}),r.jsxs("span",{className:e.loadTime>1e3?"text-destructive":"text-green-600",children:[e.loadTime.toFixed(0),"ms"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"FCP:"}),r.jsxs("span",{className:e.firstContentfulPaint>1500?"text-destructive":"text-green-600",children:[e.firstContentfulPaint.toFixed(0),"ms"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"LCP:"}),r.jsxs("span",{className:e.largestContentfulPaint>2500?"text-destructive":"text-green-600",children:[e.largestContentfulPaint.toFixed(0),"ms"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Bundle Size:"}),r.jsxs("span",{className:e.bundleSize>5e5?"text-destructive":"text-green-600",children:[(e.bundleSize/1024).toFixed(0),"KB"]})]})]})]})}function Hl(){return f.useEffect(()=>{const e=d=>{const i=document.createElement("link");i.rel="preload",i.href=d,i.as="image",document.head.appendChild(i)},t=d=>{const i=document.createElement("link");i.rel="preload",i.href=d,i.as="style",document.head.appendChild(i)},s=d=>{const i=document.createElement("link");i.rel="modulepreload",i.href=d,document.head.appendChild(i)};t("/assets/index-Co1TnHcw.css"),s("/assets/react-vendor-BWX1YzKK.js"),s("/assets/radix-vendor-0isRFci2.js"),s("/assets/ui-vendor-DodV2HUK.js"),["https://images.unsplash.com/photo-1582192904915-d89c7250b235?w=800","https://images.unsplash.com/photo-1632834380561-d1e05839a33a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx1bml2ZXJzaXR5JTIwc3R1ZGVudHMlMjBjYW1wdXN8ZW58MXx8fHwxNzU5Njk0NjMzfDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"].forEach(e);const a=d=>{const i=document.createElement("link");i.rel="dns-prefetch",i.href=d,document.head.appendChild(i)};a("https://images.unsplash.com"),a("https://fonts.googleapis.com"),a("https://fonts.gstatic.com")},[]),null}function Gl(){return r.jsxs(r.Fragment,{children:[r.jsx(Hl,{}),r.jsx(Ra,{children:r.jsx(Da,{children:r.jsx(Ma,{children:r.jsx(Ia,{children:r.jsx(Va,{children:r.jsxs(Fa,{children:[r.jsx(Bl,{}),r.jsx(zl,{position:"top-center"}),r.jsx(Fl,{})]})})})})})})]})}Na.createRoot(document.getElementById("root")).render(r.jsx(Gl,{}));export{vt as A,D as B,yt as C,lr as D,J as I,yl as S,fr as T,bt as a,ni as b,dr as c,ur as d,mr as e,A as f,Se as g,pr as h,ne as i,Zl as j,Qa as k,Hr as l,hl as m,fl as n,Gr as o,$r as p,Wr as q,at as r,ot as s,it as t,Jl as u,lt as v,ct as w,Xl as x,hr as y,$a as z};
